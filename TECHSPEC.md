# Style License í”„ë¡œì íŠ¸ ê¸°ìˆ  ëª…ì„¸ì„œ (TECHSPEC.md)

**Repository :**  ì‘ì„± ì˜ˆì •
**Version :** 0.4(API ì„¤ê³„ ì¶”ê°€)

---

## ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ëª©í‘œ ë° ë¹„ëª©í‘œ](#2-ëª©í‘œ-ë°-ë¹„ëª©í‘œ)
3. [ë°°ê²½ ë° ë¬¸ì œ ì •ì˜](#3-ë°°ê²½-ë°-ë¬¸ì œ-ì •ì˜)
4. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#4-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
5. [ë°ì´í„° ëª¨ë¸ ë° ìŠ¤í‚¤ë§ˆ](#5-ë°ì´í„°-ëª¨ë¸-ë°-ìŠ¤í‚¤ë§ˆ)
6. [API ì„¤ê³„](#6-api-ì„¤ê³„)
7. [í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜](#7-í”„ë¡ íŠ¸ì—”ë“œ-ì•„í‚¤í…ì²˜)
8. [ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° í•µì‹¬ ê¸°ëŠ¥](#8-ë¹„ì¦ˆë‹ˆìŠ¤-ë¡œì§-ë°-í•µì‹¬-ê¸°ëŠ¥)
9. [í´ë” êµ¬ì¡°, ê³µí†µ íŒ¨í„´](#9-í´ë”-êµ¬ì¡°-ê³µí†µ-íŒ¨í„´)
10. [ë³´ì•ˆ ì„¤ê³„](#10-ë³´ì•ˆ-ì„¤ê³„)
11. [ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹…](#11-ì—ëŸ¬-ì²˜ë¦¬-ë°-ë¡œê¹…)
12. [ì„±ëŠ¥ ë° í™•ì¥ì„±](#12-ì„±ëŠ¥-ë°-í™•ì¥ì„±)
13. [í…ŒìŠ¤íŠ¸ ì „ëµ](#13-í…ŒìŠ¤íŠ¸-ì „ëµ)
14. [ë°°í¬ ë° CI/CD](#14-ë°°í¬-ë°-cicd)
15. [ë¬¸ì„œí™” ìš”êµ¬ì‚¬í•­](#15-ë¬¸ì„œí™”-ìš”êµ¬ì‚¬í•­)
16. [ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš](#16-ë§ˆì´ê·¸ë ˆì´ì…˜-ê³„íš)
17. [ìœ„í—˜ ìš”ì†Œ ë° ì™„í™” ì „ëµ](#17-ìœ„í—˜-ìš”ì†Œ-ë°-ì™„í™”-ì „ëµ)
18. [ì°¸ê³  ìë£Œ](#18-ì°¸ê³ -ìë£Œ)

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 í”„ë¡œì íŠ¸ëª…
**Style License** - AI ê¸°ë°˜ í™”í’ ë¼ì´ì„ ì‹± ë° 2ì°¨ ì°½ì‘ í”Œë«í¼

### 1.2 ëª©ì 
ë””ìì¸ ì‘ê°€ê°€ ìì‹ ì˜ ìŠ¤íƒ€ì¼ê³¼ í™”í’ì„ ê±°ë˜í•  ìˆ˜ ìˆëŠ” ì›¹ í”Œë«í¼ì„ ì œê³µí•©ë‹ˆë‹¤. í™”í’ ê±°ë˜ë¥¼ ë¼ì´ì„ ìŠ¤ í˜•ì‹ìœ¼ë¡œ ì§„í–‰í•˜ì—¬ í”Œë«í¼ì—ì„œ ì €ì‘ê¶Œì„ ì¸ì •í•˜ê³ , ì‚¬ìš©ìëŠ” ì €ì‘ê¶Œì´ ë³´ì¥ëœ ìƒíƒœë¡œ ì‘ê°€ì˜ í™”í’ì„ ëª¨ë°©í•œ 2ì°¨ ì°½ì‘ë¬¼ì„ ì†Œìœ , ê³µìœ , ìƒì—…ì ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 1.3 í•µì‹¬ ê°€ì¹˜ ì œì•ˆ
- ì‘ê°€ì˜ í™”í’ì— ëŒ€í•œ ëª…í™•í•œ ì €ì‘ê¶Œ ë³´í˜¸
- í•©ë²•ì ì´ê³  íˆ¬ëª…í•œ AI í™”í’ ë¼ì´ì„ ì‹±
- ë¼ì´ì„ ìŠ¤ ê¸°ë°˜ì˜ 2ì°¨ ì°½ì‘ë¬¼ ìƒì„± ë° ìƒì—…ì  ì´ìš© ê°€ëŠ¥

### 1.4 ì£¼ìš” ì´í•´ê´€ê³„ì
- **ë””ìì¸ ì‘ê°€**: í™”í’ ë¼ì´ì„ ìŠ¤ ì œê³µì, ìˆ˜ìµ ì°½ì¶œ
- **ì¼ë°˜ ì‚¬ìš©ì**: ë¼ì´ì„ ìŠ¤ êµ¬ë§¤ì, 2ì°¨ ì°½ì‘ë¬¼ ìƒì„±ì
- **í”Œë«í¼ ìš´ì˜ì**: ë¼ì´ì„ ìŠ¤ ì¤‘ê°œ, ì €ì‘ê¶Œ ê´€ë¦¬
---

## 2. ëª©í‘œ ë° ë¹„ëª©í‘œ

### 2.1 Goals (ëª©í‘œ)

#### 2.1.1 í•µì‹¬ ì‹œìŠ¤í…œ êµ¬ì¶• (MVP)
- ì‘ê°€ì˜ í™”í’ì„ Fine-tuningí•œ AI ëª¨ë¸ ìƒì„± ì‹œìŠ¤í…œ êµ¬ì¶•
- í† í° ê¸°ë°˜ ì´ë¯¸ì§€ ìƒì„± ê³¼ê¸ˆ ì‹œìŠ¤í…œ êµ¬í˜„
- ì‚¬ìš©ìê°€ í† í°ì„ ì†Œë¹„í•˜ì—¬ ì´ë¯¸ì§€ ìƒì„± ë° ë‹¤ìš´ë¡œë“œ
- ìƒì„±ëœ ì´ë¯¸ì§€ì— ì‘ê°€ ì„œëª… ìë™ ì‚½ì… ê¸°ëŠ¥
- ê¸°ë³¸ì ì¸ ê²°ì œ ë° í† í° ì¶©ì „ ê¸°ëŠ¥

#### 2.1.2 ìŠ¤íƒ€ì¼(í™”í’) ìƒì„± ì‹œìŠ¤í…œ
- 1ì¸ 1ìŠ¤íƒ€ì¼ ìƒì„± ê°€ëŠ¥ (MVP ë‹¨ê³„)
- ì‘ê°€ê°€ ìì‹ ì˜ í™”í’ì„ ë“±ë¡í•˜ì—¬ Style(ìŠ¤íƒ€ì¼ ëª¨ë¸) ì„ ìƒì„±í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œ êµ¬ì¶•
- **í•™ìŠµìš© ì´ë¯¸ì§€**: ìµœì†Œ 10ì¥ ì´ìƒ, ìµœëŒ€ 100ì¥ê¹Œì§€ ë“±ë¡ ê°€ëŠ¥
- ê°ê°ì˜ í•™ìŠµ ì´ë¯¸ì§€ì— íƒœê·¸(í•™ìŠµ í‚¤ì›Œë“œ) ì…ë ¥ (âš  ì˜ì–´ë§Œ í—ˆìš©)
- **ì´ë¯¸ì§€ ìš”êµ¬ì‚¬í•­**:
  - ì§€ì› í˜•ì‹: JPG, PNG
  - ìµœì†Œ í•´ìƒë„: 512Ã—512px
  - ìµœëŒ€ íŒŒì¼ í¬ê¸°: 10MB/ì¥
- ìŠ¤íƒ€ì¼ ìƒì„± ì‹œ ë‹¤ìŒ ì •ë³´ë¥¼ ë°˜ë“œì‹œ ì…ë ¥: 
  - ìŠ¤íƒ€ì¼ ì œëª© (Title)
  - ìŠ¤íƒ€ì¼ ì„¤ëª… (Description)
  - ì´ë¯¸ì§€ë‹¹ ê°€ê²© (í† í° ë‹¨ê°€) â€” 1ì¥ ìƒì„± ì‹œ ì†Œëª¨ë˜ëŠ” í† í° ìˆ˜
- ì—…ë¡œë“œëœ ì´ë¯¸ì§€ëŠ” ì„œë²„ì—ì„œ ê²€ì¦(í˜•ì‹Â·í¬ê¸° ë“±) í›„, RabbitMQë¥¼ í†µí•´ í•™ìŠµ íë¡œ ì „ë‹¬ â†’ LoRA Fine-tuning ìë™ ì‹¤í–‰
- í•™ìŠµ ì™„ë£Œ í›„ ê²°ê³¼ëŠ” ëª¨ë¸ íŒŒì¼(S3 ì €ì¥) + Style ë“±ë¡ ì™„ë£Œ ì•Œë¦¼ìœ¼ë¡œ ì‘ê°€ì—ê²Œ ì „ë‹¬
- í•™ìŠµëœ ëª¨ë¸ (ìŠ¤íƒ€ì¼) ì‘ê°€ ì„ì˜ë¡œ ì‚­ì œ ë¶ˆê°€ëŠ¥

#### í•™ìŠµ ì§„í–‰ ìƒí™© ì¶”ì 
- ì‘ê°€ëŠ” Edit / Create Style Page ì—ì„œ í•™ìŠµ ì§„í–‰ ìƒí™©ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥
- í•™ìŠµ ìƒíƒœ ë‹¨ê³„:
  - **pending**: í•™ìŠµ ëŒ€ê¸° ì¤‘
  - **training**: í•™ìŠµ ì§„í–‰ ì¤‘ (ì§„í–‰ë¥  í‘œì‹œ)
  - **completed**: í•™ìŠµ ì™„ë£Œ
  - **failed**: í•™ìŠµ ì‹¤íŒ¨
- í•™ìŠµ ì§„í–‰ ì •ë³´:
  - í˜„ì¬ epoch / ì „ì²´ epoch
  - ì§„í–‰ë¥  í¼ì„¼íŠ¸ (0-100%)
  - ì˜ˆìƒ ë‚¨ì€ ì‹œê°„ (ì´ˆ ë‹¨ìœ„)
  - ìµœê·¼ ì—…ë°ì´íŠ¸ ì‹œê°„
- Training ServerëŠ” 30ì´ˆë§ˆë‹¤ Backendì— ì§„í–‰ ìƒí™© ì „ì†¡
- í”„ë¡ íŠ¸ì—”ë“œëŠ” 5ì´ˆë§ˆë‹¤ í´ë§í•˜ì—¬ ì§„í–‰ ìƒí™© í‘œì‹œ (ìµœëŒ€ 30ì´ˆ ì§€ì—°)

#### 2.1.3 ì´ë¯¸ì§€ ìƒì„± ì‹œìŠ¤í…œ (Image Generation System)
- ì‚¬ìš©ìëŠ” ë“±ë¡ëœ ìŠ¤íƒ€ì¼(Style) ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ì´ë¯¸ì§€ ìƒì„± ê°€ëŠ¥
- ì´ë¯¸ì§€ ìƒì„± ì‹œ í† í°ì´ ìë™ ì°¨ê°ë˜ë©°, ê° ìŠ¤íƒ€ì¼ë³„ë¡œ ì„¤ì •ëœ â€œì´ë¯¸ì§€ 1ì¥ë‹¹ ì†Œëª¨ í† í° ìˆ˜â€ ê¸°ì¤€ì„ ë”°ë¦„
- ì‚¬ìš©ìëŠ” í”„ë¡¬í”„íŠ¸ ì…ë ¥ë€ì— íƒœê·¸ ê¸°ë°˜ ì˜ì–´ í‚¤ì›Œë“œë¡œ ë‚´ìš©ì„ ì‘ì„±í•´ì•¼ í•˜ë©°, ì´ëŠ” í•™ìŠµëœ í™”í’ì˜ ë§¥ë½ê³¼ ì¡°í•©ë˜ì–´ ìµœì¢… ì´ë¯¸ì§€ë¥¼ ìƒì„±
- ì´ë¯¸ì§€ ì„¤ëª…(Description) ì„ í•¨ê»˜ ì‘ì„±í•  ìˆ˜ ìˆìœ¼ë‚˜ ì„ íƒ ì‚¬í•­
- ìƒì„±ëœ ì´ë¯¸ì§€ëŠ” **ì‚¬ìš©ìì˜ ë§ˆì´í˜ì´ì§€(My Page)**ì— ì €ì¥ë˜ë©°, ê¸°ë³¸ì ìœ¼ë¡œ ë¹„ê³µê°œ ìƒíƒœ
- ì§€ì› ì´ë¯¸ì§€ ë¹„ìœ¨ : AI ìƒì„± ì‹œìŠ¤í…œì€ ì•„ë˜ì˜ ì„¸ ê°€ì§€ ì´ë¯¸ì§€ ë¹„ìœ¨ì„ ì§€ì›í•˜ë©°, ìƒì„± ìš”ì²­ ì‹œ ì‚¬ìš©ìê°€ ì„ íƒ ê°€ëŠ¥
  - **ê¸°ë³¸í˜• (Default)**: 1:1 ë¹„ìœ¨, 512Ã—512px, ì¼ë°˜ ê²Œì‹œë¬¼ìš©
  - **ê·¸ë¦¬ë“œí˜• (Grid / Large)**: 2:2 ë¹„ìœ¨, 1024Ã—1024px, ê³ í•´ìƒë„ ì¶œë ¥ìš©
  - **ì„¸ë¡œí˜• (Shorts / Story)**: 1:2 ë¹„ìœ¨, 512Ã—1024px, ì„¸ë¡œ ì½˜í…ì¸ ìš©
- ìƒì„±ëœ ì´ë¯¸ì§€ì— ì‘ê°€ ì„œëª… ìë™ ì‚½ì…, ì œê±° ë¶ˆê°€

#### ìƒì„± ì§„í–‰ ìƒí™© ì¶”ì 
- ì‚¬ìš©ìëŠ” ë§ˆì´í˜ì´ì§€ì—ì„œ ì´ë¯¸ì§€ ìƒì„± ì§„í–‰ ìƒí™©ì„ í™•ì¸ ê°€ëŠ¥
- ìƒì„± ìƒíƒœ ë‹¨ê³„:
  - **queued**: ìƒì„± ëŒ€ê¸° ì¤‘
  - **processing**: ìƒì„± ì§„í–‰ ì¤‘ (ì§„í–‰ë¥  í‘œì‹œ)
  - **completed**: ìƒì„± ì™„ë£Œ
  - **failed**: ìƒì„± ì‹¤íŒ¨
- ìƒì„± ì§„í–‰ ì •ë³´:
  - í˜„ì¬ ìŠ¤í… / ì „ì²´ ìŠ¤í…
  - ì§„í–‰ë¥  í¼ì„¼íŠ¸ (0-100%)
  - ì˜ˆìƒ ë‚¨ì€ ì‹œê°„ (ì´ˆ ë‹¨ìœ„)
- Inference ServerëŠ” ì£¼ìš” ë‹¨ê³„ë§ˆë‹¤ Backendì— ì§„í–‰ ìƒí™© ì „ì†¡
- í”„ë¡ íŠ¸ì—”ë“œëŠ” 5ì´ˆë§ˆë‹¤ í´ë§í•˜ì—¬ ì§„í–‰ ìƒí™© í‘œì‹œ

- **ìƒì„± ì‹¤íŒ¨ ì‹œ**: ìë™ ì¬ì‹œë„ ìµœëŒ€ 3íšŒ, ëª¨ë‘ ì‹¤íŒ¨ ì‹œ í† í° í™˜ë¶ˆ + ì•Œë¦¼ ì „ì†¡



#### 2.1.4 ì¸ì¦ ì‹œìŠ¤í…œ
- Google OAuth ì†Œì…œ ë¡œê·¸ì¸ (ìì²´ ë¡œê·¸ì¸ ì—†ìŒ)
- ì¼ë°˜ ì‚¬ìš©ì ê¸°ë³¸ ê¶Œí•œ
- ì‘ê°€ ê¶Œí•œ ê²©ìƒ ì‹ ì²­ ê¸°ëŠ¥
- ì‘ê°€ ê¶Œí•œ ê²©ìƒ ì‹œ ì¶”ê°€ ì •ë³´ ìˆ˜ì§‘ (ì´ë©”ì¼, ì„œëª… ì´ë¯¸ì§€)

#### 2.1.5 í† í° ì‹œìŠ¤í…œ (ìµœì†Œ ê¸°ëŠ¥)
- ì‘ê°€ë³„ ë…ë¦½ì ì¸ í† í° ê°€ê²© ì„¤ì • ê¸°ëŠ¥ (ì´ë¯¸ì§€ 1ì¥ë‹¹ ì†Œëª¨ í† í°)
- ì‚¬ìš©ì í† í° êµ¬ë§¤ ë° ì¶©ì „ ê¸°ëŠ¥ ( toss payment í•´ì™¸ ê²°ì œ ëª¨ë“ˆ í™œìš© )
- ì´ë¯¸ì§€ ìƒì„± ì‹œ í† í° ìë™ ì°¨ê°
- í† í° ê±°ë˜ ë‚´ì—­ ì¡°íšŒ

#### 2.1.6 ì €ì‘ê¶Œ ë³´í˜¸ ê¸°ëŠ¥
- ìƒì„± ì´ë¯¸ì§€ì— ì‘ê°€ ì„œëª…(ì›Œí„°ë§ˆí¬) ìë™ ì‚½ì…
- ì´ë¯¸ì§€ ë©”íƒ€ë°ì´í„°ì— ì‘ê°€ ì •ë³´ ê¸°ë¡

#### 2.1.7 íƒœê·¸ ë° ê²€ìƒ‰ ì‹œìŠ¤í…œ
- **í•™ìŠµ íƒœê¹… êµ¬ì¡°**
  - ì‘ê°€ê°€ ëª¨ë¸ í•™ìŠµ ì‹œ ê° ì´ë¯¸ì§€ë³„ë¡œ íƒœê·¸ë¥¼ ìˆ˜ë™ ë“±ë¡
  - **ìŠ¤íƒ€ì¼ ì´ë¦„ ìë™ íƒœê·¸í™”**: ìŠ¤íƒ€ì¼ ìƒì„± ì‹œ ìŠ¤íƒ€ì¼ ì´ë¦„ì´ ëª¨ë“  í•™ìŠµ ì´ë¯¸ì§€ íƒœê·¸ì— ìë™ìœ¼ë¡œ í¬í•¨ í•˜ë„ë¡ ë“±ë¡
  - í•™ìŠµ ì´ë¯¸ì§€(artworks)ì˜ íƒœê·¸(artwork_tags)ëŠ” ìë™ìœ¼ë¡œ ì§‘ê³„ë˜ì–´ ìŠ¤íƒ€ì¼(styles) íƒœê·¸ë¡œ ë°˜ì˜ë¨
- **ê²€ìƒ‰ ë° ê´€ë¦¬**
  - íƒœê·¸ ê¸°ë°˜ ìŠ¤íƒ€ì¼ ê²€ìƒ‰ (ìŠ¤íƒ€ì¼ ì´ë¦„ í¬í•¨)
  - ì‘ê°€ ì´ë¦„ ê²€ìƒ‰
  - íƒœê·¸ë³„ í™œì„±í™” ì—¬ë¶€(is_active), ê²€ì—´ ìƒíƒœ(is_flagged) ê´€ë¦¬ ê°€ëŠ¥
- **í”„ë¡¬í”„íŠ¸ ì…ë ¥**
  - ì´ë¯¸ì§€ ìƒì„± ì‹œ íƒœê·¸ ê¸°ë°˜ í”„ë¡¬í”„íŠ¸ ì…ë ¥/ì¡°í•© ê¸°ëŠ¥ ì œê³µ
  - âš  ì˜ì–´ë§Œ í—ˆìš© (Stable Diffusion í”„ë¡¬í”„íŠ¸ í˜¸í™˜ì„± ê³ ë ¤)

#### 2.1.8 ê¸°ë³¸ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥
- ìƒì„±ëœ ì´ë¯¸ì§€ ê³µê°œ/ë¹„ê³µê°œ ì„¤ì •
- ì´ë¯¸ì§€ ì„¤ëª… ì…ë ¥
- ê³µê°œ ì´ë¯¸ì§€ í”¼ë“œ ì¡°íšŒ
- ì´ë¯¸ì§€ ì¢‹ì•„ìš” ê¸°ëŠ¥
- ì´ë¯¸ì§€ ëŒ“ê¸€ / ëŒ€ëŒ“ê¸€ ê¸°ëŠ¥
- ì‘ê°€ íŒ”ë¡œìš°/ì–¸íŒ”ë¡œìš° ê¸°ëŠ¥
- ë‚´ê°€ íŒ”ë¡œìš°í•œ ì‘ê°€ ëª©ë¡ ì¡°íšŒ
- **MVP ì œí•œì‚¬í•­**:
  - ì´ë¯¸ì§€ ë¬¼ë¦¬ ì‚­ì œ ê¸°ëŠ¥ ì œì™¸ (ë¹„ê³µê°œ ì „í™˜ìœ¼ë¡œ ëŒ€ì²´)
  - ì‘ê°€ì˜ íŒ”ë¡œì›Œ ëª©ë¡ ì¡°íšŒ ê¸°ëŠ¥ ì œì™¸

#### 2.1.9 ì•Œë¦¼ ì‹œìŠ¤í…œ
- ë‚´ ê³µê°œ ì´ë¯¸ì§€ì— ì¢‹ì•„ìš” ì•Œë¦¼
- ë‚´ ê³µê°œ ì´ë¯¸ì§€ì— ëŒ“ê¸€ ì•Œë¦¼
- ì‘ê°€ì˜ ëª¨ë¸ í•™ìŠµ ì™„ë£Œ ì•Œë¦¼
- ë‚´ ì´ë¯¸ì§€ ìƒì„± ì™„ë£Œ ì•Œë¦¼
- ì•Œë¦¼ ëª©ë¡ ì¡°íšŒ ë° ì½ìŒ ì²˜ë¦¬

#### 2.1.10 ë‹¤êµ­ì–´ ì§€ì›
- ì˜ì–´ ê¸°ë³¸ ì§€ì›
- í•œêµ­ì–´ ì§€ì›
- UI í…ìŠ¤íŠ¸ ë‹¤êµ­ì–´ ì²˜ë¦¬ (i18n)


### 2.2 ë¹„ëª©í‘œ (MVP ì´í›„ ë˜ëŠ” ì œì™¸)

#### 2.2.1 ì¸ì¦ ê³ ë„í™”
- ìì²´ ì´ë©”ì¼/íŒ¨ìŠ¤ì›Œë“œ ë¡œê·¸ì¸
- ì¶”ê°€ ì†Œì…œ ë¡œê·¸ì¸ (ì¹´ì¹´ì˜¤, ì• í”Œ ë“±)
- 2ë‹¨ê³„ ì¸ì¦ (2FA)
- ì‘ê°€ ê²€ì¦ ì‹œìŠ¤í…œ (ì‹ ì› í™•ì¸, í¬íŠ¸í´ë¦¬ì˜¤ ì‹¬ì‚¬ ë“±)

#### 2.2.2 ìŠ¤íƒ€ì¼ ê²€ì¦ ê³ ë„í™”
- ì—…ë¡œë“œëœ í•™ìŠµ ì´ë¯¸ì§€ì˜ ì €ì‘ê¶Œ ìë™ ê²€ì¦ (AI ì´ë¯¸ì§€ ì‹ë³„, ì¤‘ë³µ ê²€ì‚¬)
- ë™ì¼í•˜ê±°ë‚˜ ìœ ì‚¬í•œ í™”í’ ì¤‘ë³µ íƒì§€ (Style Similarity Check)
- í•™ìŠµ ë°ì´í„°ì˜ ìë™ í’ˆì§ˆ ê²€ìˆ˜ (AI ê¸°ë°˜ Blur/Low-res/NSFW í•„í„°)
- ì‘ê°€ ì‹ ì› ê²€ì¦ (ì‹ ë¶„ì¦, í¬íŠ¸í´ë¦¬ì˜¤ ì‹¬ì‚¬)

> **MVPì—ì„œëŠ”**: ì‘ê°€ê°€ ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ë¥¼ ì‹ ë¢°í•˜ë©°, ê¸°ë³¸ì ì¸ í˜•ì‹/í¬ê¸° ê²€ì¦ë§Œ ìˆ˜í–‰

#### 2.2.3 ê³ ê¸‰ ê¸°ëŠ¥
- ë™ì˜ìƒ ìƒì„± ê¸°ëŠ¥
- 3D ëª¨ë¸ ìƒì„± ê¸°ëŠ¥
- NFT ë°œí–‰ ê¸°ëŠ¥
- ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥
- ì´ë¯¸ì§€ í¸ì§‘ ë„êµ¬ (ì™¸ë¶€ ë„êµ¬ ì—°ë™)
- AI ê¸°ë°˜ ìë™ í”„ë¡¬í”„íŠ¸ ìƒì„± ë° ìµœì í™”
- ì‘ê°€ ë‹¤ì¤‘ ìŠ¤íƒ€ì¼ ìƒì„± ê°€ëŠ¥

#### 2.2.4 ì •ì‚° ë° ìˆ˜ìµí™” ê³ ë„í™”
- ì‘ê°€ì˜ í† í° í˜„ê¸ˆ í™˜ì „ ê¸°ëŠ¥
- í”Œë«í¼ì˜ í† í° ìˆ˜ìµ ì •ì‚° ì‹œìŠ¤í…œ
- ì„¸ê¸ˆ ê³„ì‚°ì„œ ë°œí–‰
- ì£¼ê¸°ì  ì •ì‚° ìë™í™”
- ìˆ˜ìµ ë¶„ì„ ëŒ€ì‹œë³´ë“œ

#### 2.2.5 ì»¤ë®¤ë‹ˆí‹° ê³ ë„í™”
- ë¬´í•œ ëŒ€ëŒ“ê¸€
- ì‘ê°€ ë­í‚¹ ì‹œìŠ¤í…œ
- íë ˆì´ì…˜ ë° ì¶”ì²œ ì‹œìŠ¤í…œ
- ì´ë¯¸ì§€ ì‹ ê³  ë° ê´€ë¦¬ ì‹œìŠ¤í…œ
- ì‘ê°€ í”„ë¡œí•„ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- **ì‘ê°€ì˜ íŒ”ë¡œì›Œ ëª©ë¡ ì¡°íšŒ** (MVP ì œì™¸)
- **ì´ë¯¸ì§€ ë¬¼ë¦¬ ì‚­ì œ** (MVP ì œì™¸)

#### 2.2.6 ì•Œë¦¼ ê³ ë„í™”
- ì‹¤ì‹œê°„ í‘¸ì‹œ ì•Œë¦¼ (ì›¹/ëª¨ë°”ì¼)
- ì´ë©”ì¼ ì•Œë¦¼
- ì•Œë¦¼ ì„¤ì • ì»¤ìŠ¤í„°ë§ˆì´ì§• (ì•Œë¦¼ ì¢…ë¥˜ë³„ on/off)
- ì•Œë¦¼ ê·¸ë£¹í™” ë° ìš”ì•½

#### 2.2.7 ê²€ìƒ‰ ë° í•„í„°ë§ ê³ ë„í™”
- ê³ ê¸‰ ê²€ìƒ‰ (ë³µí•© ì¡°ê±´, ì •ë ¬ ì˜µì…˜)
- ì¹´í…Œê³ ë¦¬ ê¸°ë°˜ ë¶„ë¥˜
- AI ê¸°ë°˜ ìœ ì‚¬ ìŠ¤íƒ€ì¼ ì¶”ì²œ
- í…ìŠ¤íŠ¸ í”„ë¡¬í”„íŠ¸ ìë™ íƒœê·¸ ë³€í™˜
- **ì¸ê¸° íƒœê·¸ API** (MVP ì œì™¸)
- **íƒœê·¸ ìë™ì™„ì„± API** (MVP ì œì™¸)

#### 2.2.8 ë‹¤êµ­ì–´ ê³ ë„í™”
- ì¶”ê°€ ì–¸ì–´ ì§€ì› (ì¼ë³¸ì–´, ì¤‘êµ­ì–´, ìŠ¤í˜ì¸ì–´ ë“±)
- ì‚¬ìš©ì ìƒì„± ì½˜í…ì¸ (ëŒ“ê¸€, ì„¤ëª…) ìë™ ë²ˆì—­
- ì§€ì—­ë³„ ì½˜í…ì¸  í•„í„°ë§

#### 2.2.9 ê¸°íƒ€
- ëª¨ë°”ì¼ ë„¤ì´í‹°ë¸Œ ì•± ê°œë°œ (ì›¹ ìš°ì„ )
- ì´ë¯¸ì§€ ì¼ê´„ ìƒì„± (ë°°ì¹˜ ì²˜ë¦¬)
- ì´ë¯¸ì§€ í¬íŠ¸í´ë¦¬ì˜¤/ê°¤ëŸ¬ë¦¬ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- ì˜¤í”„ë¼ì¸ ëª¨ë“œ ì§€ì›
- API ê³µê°œ ë° ì„œë“œíŒŒí‹° ì—°ë™

---

## 3. ë°°ê²½ ë° ë¬¸ì œ ì •ì˜

### 3.1 í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œ
- AI ì´ë¯¸ì§€ ìƒì„± ì‹œ ì›ì‘ê°€ì˜ ì €ì‘ê¶Œ ì¹¨í•´ ë¬¸ì œ
- í™”í’ ì‚¬ìš©ì— ëŒ€í•œ ë¶ˆëª…í™•í•œ ë²•ì  ê¶Œë¦¬
- 2ì°¨ ì°½ì‘ë¬¼ì˜ ìƒì—…ì  ì´ìš© ì œì•½
- ì‘ê°€ì˜ í™”í’ì´ ë¬´ë‹¨ìœ¼ë¡œ í•™ìŠµë˜ì–´ ìˆ˜ìµ ì°½ì¶œ ê¸°íšŒ ìƒì‹¤

### 3.2 ê¸°ì¡´ ì†”ë£¨ì…˜ì˜ í•œê³„
- **Midjourney/DALL-E**: ì‘ê°€ í™”í’ í•™ìŠµì— ëŒ€í•œ ë³´ìƒ ì—†ìŒ, ì €ì‘ê¶Œ ë¶ˆëª…í™•
- **Stable Diffusion (ì˜¤í”ˆì†ŒìŠ¤)**: ë¬´ë‹¨ í•™ìŠµ ê°€ëŠ¥, ì‘ê°€ ìˆ˜ìµí™” ë©”ì»¤ë‹ˆì¦˜ ë¶€ì¬
- **ì§ì ‘ ì»¤ë¯¸ì…˜**: ë†’ì€ ë¹„ìš©, ê¸´ ì œì‘ ì‹œê°„, í™•ì¥ì„± ë¶€ì¡±

### 3.3 ìš°ë¦¬ ì†”ë£¨ì…˜ì˜ ì°¨ë³„ì 
- í–¥í›„ AI ì €ì‘ê¶Œ ì œë„ ë³€í™”ì— ì„ ì œì ìœ¼ë¡œ ëŒ€ì‘
- ì‘ê°€ê°€ ì§ì ‘ í™”í’ì„ ë“±ë¡í•˜ê³  ë¼ì´ì„ ìŠ¤ íŒë§¤
- ìƒì„± ì´ë¯¸ì§€ë§ˆë‹¤ ì‘ê°€ ì„œëª… ìë™ ì‚½ì…ìœ¼ë¡œ ì €ì‘ê¶Œ ëª…ì‹œ
- í† í° ê¸°ë°˜ ìˆ˜ìµ ë¶„ë°°ë¡œ ì‘ê°€ ìˆ˜ìµ ë³´ì¥
- í•©ë²•ì  2ì°¨ ì°½ì‘ë¬¼ ìƒì—…ì  ì´ìš© ê°€ëŠ¥

---

## 4. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 4.1 ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    HTTPS    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  API Gateway â”‚â”€â”€â”¬â”€â”€â–¶ Backend Server (Session)
â”‚   (Vue)     â”‚             â”‚   (Django)   â”‚  â”œâ”€â”€â–¶ Training Server
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”œâ”€â”€â–¶ Inference Server
                                              â”œâ”€â”€â–¶ RabbitMQ
                                              â””â”€â”€â–¶ PostgreSQL / S3

```

### 4.2 ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

#### Frontend (Vue 3)
- ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ì œê³µ
- Google OAuth ë¡œê·¸ì¸ ì²˜ë¦¬
- ì´ë¯¸ì§€ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ
- ì‹¤ì‹œê°„ ìƒì„± ìƒíƒœ í´ë§
- **(ìš´ì˜ í™˜ê²½)** Viteë¡œ ì •ì  íŒŒì¼ ë¹Œë“œ â†’ Backend EC2ì˜ Nginxì—ì„œ ì„œë¹™

#### Backend (Django)
- REST API ì„œë²„
- ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦/ì¸ê°€
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
- RabbitMQ ì‘ì—… ì „ì†¡
- í† í° íŠ¸ëœì­ì…˜ ê´€ë¦¬
- **(ìš´ì˜ í™˜ê²½)** Gunicornìœ¼ë¡œ ì‹¤í–‰, Nginx Reverse Proxy êµ¬ì„±
  - Nginx: Frontend ì •ì  íŒŒì¼ ì„œë¹™ + Gunicorn í”„ë¡ì‹œ + Let's Encrypt SSL ì¢…ë£Œ

#### PostgreSQL
- ì‚¬ìš©ì, ëª¨ë¸, ì´ë¯¸ì§€ ë©”íƒ€ë°ì´í„° ì €ì¥
- í† í° íŠ¸ëœì­ì…˜ ê¸°ë¡
- ACID íŠ¸ëœì­ì…˜ ë³´ì¥
- **(ìš´ì˜ í™˜ê²½)** Backend EC2 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰
  - ì´ë¯¸ì§€: postgres:15
  - ë³¼ë¥¨ ë§ˆìš´íŠ¸: ë°ì´í„° ì˜ì†ì„± ë³´ì¥
  - ë„¤íŠ¸ì›Œí¬: Backendì™€ ë™ì¼ Docker ë„¤íŠ¸ì›Œí¬ë¡œ ê²©ë¦¬
  - í¬íŠ¸: 5432 (ë‚´ë¶€ í†µì‹ )

#### RabbitMQ
- ë¹„ë™ê¸° ì‘ì—… í
- `model_training` í: ëª¨ë¸ í•™ìŠµ ì‘ì—…
- `image_generation` í: ì´ë¯¸ì§€ ìƒì„± ì‘ì—…
- **(ìš´ì˜ í™˜ê²½)** Backend EC2 ì¸ìŠ¤í„´ìŠ¤ì—ì„œ Dockerë¡œ í•¨ê»˜ ì‹¤í–‰

#### Training Server
- **(ìš´ì˜ í™˜ê²½)** RunPod RTX 4090 24GB VRAM GPU ì„œë²„ (1ëŒ€)
  - ì¸ìŠ¤í„´ìŠ¤: RunPod GPU Pod (RTX 4090)
  - ë„¤íŠ¸ì›Œí¬: Public IPë¥¼ í†µí•´ Backend API Webhook í˜¸ì¶œ
  - ì¸ì¦: INTERNAL_API_TOKEN í—¤ë”ë¡œ ì¸ì¦
- Stable Diffusion ê¸°ë°˜ LoRA Fine-tuning
- í•™ìŠµ ì§„í–‰ ìƒí™© 30ì´ˆë§ˆë‹¤ Backend APIë¡œ ì „ì†¡
- í•™ìŠµ ì™„ë£Œ ì‹œ Backend Webhook í˜¸ì¶œ (POST /api/webhooks/training/complete)
- ëª¨ë¸ íŒŒì¼ S3 ì €ì¥ (AWS Access Key ì‚¬ìš©)

#### Inference Server
- **(ìš´ì˜ í™˜ê²½)** RunPod RTX 4090 24GB VRAM GPU ì„œë²„ (1ëŒ€)
  - ì¸ìŠ¤í„´ìŠ¤: RunPod GPU Pod (RTX 4090)
  - ë„¤íŠ¸ì›Œí¬: Public IPë¥¼ í†µí•´ Backend API Webhook í˜¸ì¶œ
  - ì¸ì¦: INTERNAL_API_TOKEN í—¤ë”ë¡œ ì¸ì¦
- LoRA ê°€ì¤‘ì¹˜ ë¡œë“œ í›„ ì´ë¯¸ì§€ ìƒì„± (5~10ì´ˆ)
- ìƒì„± ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ Backend APIë¡œ ì „ì†¡
- ì„œëª… ìë™ ì‚½ì… (PIL) - ì‘ê°€ ì‹œê·¸ë‹ˆì²˜ ì›Œí„°ë§ˆí¬
- ìƒì„± ì´ë¯¸ì§€ S3 ì €ì¥ (AWS Access Key ì‚¬ìš©)
- ìƒì„± ì™„ë£Œ ì‹œ Backend Webhook í˜¸ì¶œ (POST /api/webhooks/inference/complete)

#### S3 (ë˜ëŠ” í˜¸í™˜ ìŠ¤í† ë¦¬ì§€)
- í•™ìŠµ ì´ë¯¸ì§€ ì €ì¥
- ëª¨ë¸ íŒŒì¼ ì €ì¥
- ìƒì„± ì´ë¯¸ì§€ ì €ì¥

### 4.3 ë°ì´í„° íë¦„

#### ëª¨ë¸ í•™ìŠµ í”Œë¡œìš°
```
ì‘ê°€ â†’ Frontend: ì´ë¯¸ì§€ ì—…ë¡œë“œ
Frontend â†’ Backend: POST /api/styles
Backend â†’ S3: ì´ë¯¸ì§€ ì €ì¥
Backend â†’ RabbitMQ: í•™ìŠµ ì‘ì—… ì „ì†¡
RabbitMQ â†’ Training Server: ì‘ì—… ìˆ˜ì‹ 
Training Server: LoRA Fine-tuning (30ë¶„~2ì‹œê°„)
Training Server â†’ S3: ëª¨ë¸ íŒŒì¼ ì €ì¥
Training Server â†’ Backend: POST /api/webhooks/training/complete
Backend â†’ Frontend: ì•Œë¦¼ (í•™ìŠµ ì™„ë£Œ)
```

#### ì´ë¯¸ì§€ ìƒì„± í”Œë¡œìš°
```
ì‚¬ìš©ì â†’ Frontend: í”„ë¡¬í”„íŠ¸ ì…ë ¥
Frontend â†’ Backend: POST /api/generations
Backend: í† í° ì°¨ê° (SELECT FOR UPDATE)
Backend â†’ RabbitMQ: ìƒì„± ì‘ì—… ì „ì†¡
RabbitMQ â†’ Inference Server: ì‘ì—… ìˆ˜ì‹ 
Inference Server: ì´ë¯¸ì§€ ìƒì„± (5~10ì´ˆ)
Inference Server: ì„œëª… ì‚½ì…
Inference Server â†’ S3: ì´ë¯¸ì§€ ì €ì¥
Inference Server â†’ Backend: POST /api/webhooks/inference/complete
Backend â†’ Frontend: ì´ë¯¸ì§€ URL ë°˜í™˜
```

### 4.4 ê¸°ìˆ  ìŠ¤íƒ ì„ ì • ì´ìœ 
| ê¸°ìˆ  | ì„ ì • ì´ìœ  |
|------|-----------|
| **Vue 3** | ë‚®ì€ ëŸ¬ë‹ ì»¤ë¸Œ, Composition APIì˜ ìœ ì—°ì„±, í•œêµ­ì–´ ì»¤ë®¤ë‹ˆí‹° í™œì„±í™” |
| **JavaScript** | TypeScript ëŒ€ë¹„ ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘, Zodë¡œ ëŸ°íƒ€ì„ ê²€ì¦ ë³´ì™„ |
| **Django** | Python AI/ML ìƒíƒœê³„ì™€ í†µí•© ìš©ì´, Admin íŒ¨ë„ ê¸°ë³¸ ì œê³µ |
| **PostgreSQL** | ACID ë³´ì¥, ë³µì¡í•œ ê´€ê³„í˜• ì¿¼ë¦¬ ì§€ì›, JSON í•„ë“œ ì§€ì› |
| **RabbitMQ** | ì¥ì‹œê°„ AI ì‘ì—…ì˜ ì•ˆì •ì  ë¹„ë™ê¸° ì²˜ë¦¬, ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ |
| **Stable Diffusion** | ì˜¤í”ˆì†ŒìŠ¤, LoRA Fine-tuning ì§€ì›, ì»¤ë®¤ë‹ˆí‹° í™œì„±í™” |
| **Docker** | ê°œë°œ/ìš´ì˜ í™˜ê²½ ì¼ê´€ì„±, GPU ì„œë²„ ê²©ë¦¬ |

> **ìƒì„¸ ë‚´ìš©**: ê° ì»´í¬ë„ŒíŠ¸ë³„ ì•„í‚¤í…ì²˜ëŠ” ë‹¤ìŒ ë¬¸ì„œ ì°¸ì¡°
> - Backend: [apps/backend/README.md](apps/backend/README.md)
> - Frontend: [apps/frontend/README.md](apps/frontend/README.md)
> - Training Server: [apps/training-server/README.md](apps/training-server/README.md)
> - Inference Server: [apps/inference-server/README.md](apps/inference-server/README.md)

---

## 5. ë°ì´í„° ëª¨ë¸ ë° ìŠ¤í‚¤ë§ˆ

### 5.1 ê°œìš”

PostgreSQL 15.x ê¸°ë°˜, 7ê°œ ë…¼ë¦¬ì  ìŠ¤í‚¤ë§ˆë¡œ êµ¬ì„±

### 5.2 ìŠ¤í‚¤ë§ˆ êµ¬ì¡°
```
style_license_db
â”œâ”€â”€ auth           # ì‚¬ìš©ì ì¸ì¦ (users, artists)
â”œâ”€â”€ token          # í† í° ê±°ë˜ ë° ê²°ì œ (transactions, purchases)
â”œâ”€â”€ style          # í™”í’ ëª¨ë¸ (styles, artworks)
â”œâ”€â”€ generation     # ì´ë¯¸ì§€ ìƒì„± (generations)
â”œâ”€â”€ community      # ì†Œì…œ ê¸°ëŠ¥ (follows, likes, comments)
â”œâ”€â”€ tagging        # íƒœê·¸ ì‹œìŠ¤í…œ (tags, M:N í…Œì´ë¸”ë“¤)
â””â”€â”€ system         # ì•Œë¦¼ (notifications)
```

### 5.3 í•µì‹¬ ì—”í‹°í‹°

| ì—”í‹°í‹° | ì„¤ëª… | ì£¼ìš” í•„ë“œ |
|--------|------|-----------|
| **users** | ì‚¬ìš©ì ê³„ì • | token_balance, role(user/artist) |
| **artists** | ì‘ê°€ í”„ë¡œí•„ (1:1) | earned_token_balance, follower_count, signature_image_url |
| **transactions** | í† í° ê±°ë˜ ë‚´ì—­ | sender, receiver, amount, status, transaction_type |
| **purchases** | í† ìŠ¤ ê²°ì œ ê¸°ë¡ | amount_tokens, status, provider_payment_key |
| **styles** | í™”í’ ëª¨ë¸ | training_status, generation_cost_tokens |
| **artworks** | í•™ìŠµ ì´ë¯¸ì§€ (10~100ì¥) | image_url, is_valid |
| **generations** | ìƒì„± ìš”ì²­/ê²°ê³¼ | status, result_url, is_public |
| **tags** | íƒœê·¸ ë§ˆìŠ¤í„° (ì˜ì–´) | name, usage_count |

### 5.4 í•µì‹¬ ê´€ê³„
```
users â”€â”¬â”€ artists (1:1)
       â”œâ”€ styles â”€â”€ artworks (1:N)
       â”œâ”€ generations
       â”œâ”€ follows (N:N self)
       â””â”€ likes, comments

styles â”€â”€ generations (1:N, ON DELETE RESTRICT)
tags â”€â”€â”€â”€ styles/artworks/generations (M:N)
```

### 5.5 ì£¼ìš” ì œì•½ ì¡°ê±´

- í† í° ì”ì•¡ ìŒìˆ˜ ë¶ˆê°€: `token_balance >= 0`
- ì¤‘ë³µ íŒ”ë¡œìš°/ì¢‹ì•„ìš” ë°©ì§€: UNIQUE ì œì•½
- ì‚¬ìš© ì¤‘ì¸ ìŠ¤íƒ€ì¼ ì‚­ì œ ë¶ˆê°€: ON DELETE RESTRICT
- ìê¸° íŒ”ë¡œìš° ë°©ì§€: `follower_id != following_id`

### 5.6 ì„±ëŠ¥ ì „ëµ

- **ìºì‹± ì»¬ëŸ¼**: follower_count (artists), like_count, comment_count (generations)
- **ì¸ë±ìŠ¤**: ëª¨ë“  FK + (user_id, created_at) ë³µí•© ì¸ë±ìŠ¤
- **ë™ì‹œì„±**: í† í° ì°¨ê° ì‹œ `SELECT FOR UPDATE`
- **ì†Œí”„íŠ¸ ì‚­ì œ**: is_active, is_flagged í”Œë˜ê·¸

> **ìƒì„¸ ì •ë³´**: [docs/database/README.md](../docs/database/README.md) ì°¸ì¡°

---

## 6. API ì„¤ê³„

### 6.1 API ê°œìš”

#### 6.1.1 ì„¤ê³„ ì›ì¹™
- **RESTful ì•„í‚¤í…ì²˜**: ë¦¬ì†ŒìŠ¤ ê¸°ë°˜ URL ì„¤ê³„, HTTP ë©”ì„œë“œ í™œìš©
- **Session-based Authentication**: Django ì„¸ì…˜ ì¿ í‚¤ ê¸°ë°˜ ì¸ì¦
- **JSON í†µì‹ **: ëª¨ë“  ìš”ì²­/ì‘ë‹µì€ `application/json`
- **ë²„ì „ ê´€ë¦¬**: URL ê¸°ë°˜ (`/v1`)
- **HTTPS í•„ìˆ˜**: í”„ë¡œë•ì…˜ í™˜ê²½
- **ë©±ë“±ì„± ë³´ì¥**: ë™ì¼ ìš”ì²­ ë°˜ë³µ ì‹œ ë™ì¼ ê²°ê³¼ (ê²°ì œ, ì¤‘ë³µ ë°©ì§€ ë“±)

#### 6.1.2 Base URL
- **ê°œë°œ**: `http://localhost:8000`
- **í”„ë¡œë•ì…˜**: `https://api.stylelicense.com`

**ì—”ë“œí¬ì¸íŠ¸**: ëª¨ë“  APIëŠ” `/api/...` í˜•ì‹ìœ¼ë¡œ ì‹œì‘ (ë²„ì „ ë²ˆí˜¸ ë¯¸í¬í•¨)
**ì „ì²´ URL**: Base URL + ì—”ë“œí¬ì¸íŠ¸ (ì˜ˆ: `http://localhost:8000/api/auth/me`)

#### 6.1.3 ê³µí†µ ì‘ë‹µ í˜•ì‹

**ì„±ê³µ**:
```json
{
  "success": true,
  "data": { "id": 123, "field": "value" }
}
```

**ì—ëŸ¬**:
```json
{
  "success": false,
  "error": {
    "code": "INSUFFICIENT_TOKENS",
    "message": "í† í° ì”ì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤",
    "details": { "required": 100, "available": 50 }
  }
}
```

**í˜ì´ì§€ë„¤ì´ì…˜** (Cursor-based):
```json
{
  "success": true,
  "data": {
    "results": [...],
    "next_cursor": "2025-01-15T12:34:56Z",
    "has_more": true
  }
}
```

---

### 6.2 API ê·¸ë£¹ ê°œìš”

í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒ 7ê°œì˜ API ê·¸ë£¹ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:

| ê·¸ë£¹ | ì—”ë“œí¬ì¸íŠ¸ ì˜ˆì‹œ | ì£¼ìš” ê¸°ëŠ¥ |
|------|---------------|-----------|
| **ì¸ì¦** | `/api/auth/*` | Google OAuth, ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ |
| **ì‚¬ìš©ì** | `/api/users/*` | í”„ë¡œí•„ ì¡°íšŒ/ìˆ˜ì •, ì‘ê°€ ê¶Œí•œ ì‹ ì²­ |
| **í† í°** | `/api/tokens/*` | ì”ì•¡ ì¡°íšŒ, êµ¬ë§¤, ê±°ë˜ ë‚´ì—­ |
| **í™”í’** | `/api/styles/*` | ìŠ¤íƒ€ì¼ ìƒì„±/ì¡°íšŒ/ìˆ˜ì •, í•™ìŠµ ì§„í–‰ |
| **ìƒì„±** | `/api/generations/*` | ì´ë¯¸ì§€ ìƒì„± ìš”ì²­/ì¡°íšŒ, ê³µê°œ í”¼ë“œ |
| **ì»¤ë®¤ë‹ˆí‹°** | `/api/users/:id/follow`, `/api/generations/:id/like` | íŒ”ë¡œìš°, ì¢‹ì•„ìš”, ëŒ“ê¸€ |
| **ê²€ìƒ‰/ì•Œë¦¼** | `/api/search`, `/api/notifications` | í†µí•© ê²€ìƒ‰, ì•Œë¦¼ ëª©ë¡ |

**ìƒì„¸ ëª…ì„¸**: [docs/API.md](docs/API.md)

---

### 6.2.1 ì‚¬ìš©ì ì‹œìŠ¤í…œ

#### í•µì‹¬ ì—”ë“œí¬ì¸íŠ¸
- `GET /api/users/:id` - ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ (ê³µê°œ)
- `PATCH /api/users/me` - ë‚´ í”„ë¡œí•„ ìˆ˜ì • (ì¸ì¦ í•„ìš”)
- `POST /api/users/me/upgrade-to-artist` - ì‘ê°€ ê¶Œí•œ ì‹ ì²­ (ì¸ì¦ í•„ìš”)

#### ì£¼ìš” ê¸°ëŠ¥
- **í”„ë¡œí•„ ì¡°íšŒ**: ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ê³µê°œ í”„ë¡œí•„ í™•ì¸ (í†µê³„ í¬í•¨)
- **í”„ë¡œí•„ ìˆ˜ì •**: username, bio, profile_image ì—…ë°ì´íŠ¸
- **ì‘ê°€ ìŠ¹ê²©**: ì¼ë°˜ ì‚¬ìš©ìê°€ ì‘ê°€ë¡œ ì „í™˜ (artist_name, verified_email, signature_image ì œì¶œ)

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#3-ì‚¬ìš©ì-api](docs/API.md#3-ì‚¬ìš©ì-api)

---

### 6.3 ì¸ì¦ ì‹œìŠ¤í…œ

#### 6.3.1 ì¸ì¦ í”Œë¡œìš°
```
1. GET /api/auth/google/login â†’ Google OAuth ì‹œì‘
2. Google ë™ì˜ â†’ Callback /api/auth/google/callback
3. Backend â†’ ì„¸ì…˜ ì¿ í‚¤ ì„¤ì • + í”„ë¡ íŠ¸ì—”ë“œ ë¦¬ë‹¤ì´ë ‰íŠ¸
4. ì´í›„ ëª¨ë“  ìš”ì²­ â†’ ì„¸ì…˜ ì¿ í‚¤ ìë™ í¬í•¨
```

#### 6.3.2 í•µì‹¬ ì—”ë“œí¬ì¸íŠ¸
- `GET /api/auth/google/login` - OAuth ì‹œì‘
- `GET /api/auth/google/callback` - OAuth ì½œë°±
- `GET /api/auth/me` - í˜„ì¬ ì‚¬ìš©ì ì •ë³´
- `POST /api/auth/logout` - ë¡œê·¸ì•„ì›ƒ

#### 6.3.3 ê¶Œí•œ ê´€ë¦¬
- **ì¼ë°˜ ì‚¬ìš©ì** (`role='user'`): ì´ë¯¸ì§€ ìƒì„±, í† í° êµ¬ë§¤
- **ì‘ê°€** (`role='artist'`): ì¼ë°˜ ê¶Œí•œ + ìŠ¤íƒ€ì¼ ìƒì„±
- ì‘ê°€ ì‹ ì²­: `POST /api/users/me/upgrade-to-artist`

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#auth-api](docs/API.md#auth-api)

---

### 6.4 í† í° ì‹œìŠ¤í…œ

#### 6.4.1 í† í° ì´ì½”ë…¸ë¯¸
```
[ì¶©ì „] ì‚¬ìš©ì â†’ í† ìŠ¤ ê²°ì œ â†’ í”Œë«í¼ â†’ í† í° ë°œê¸‰
[ì‚¬ìš©] ì´ë¯¸ì§€ ìƒì„± ì‹œ ì‚¬ìš©ì í† í° ì°¨ê° â†’ ì‘ê°€ ìˆ˜ìµ ì¦ê°€
[ì •ì‚°] ì‘ê°€ í† í° â†’ í˜„ê¸ˆ í™˜ì „ (MVP ì œì™¸, í–¥í›„ êµ¬í˜„)
```

#### 6.4.2 í•µì‹¬ ì—”ë“œí¬ì¸íŠ¸
- `GET /api/tokens/balance` - í† í° ì”ì•¡ ì¡°íšŒ
- `POST /api/tokens/purchase` - í† í° êµ¬ë§¤ ì‹œì‘ (í† ìŠ¤ ê²°ì œ)
- `GET /api/tokens/transactions` - ê±°ë˜ ë‚´ì—­ (ì¶©ì „/ì‚¬ìš© í†µí•©)

**ê±°ë˜ ë‚´ì—­ í•„í„°**:
```
GET /api/tokens/transactions?type=purchase  # ì¶©ì „ë§Œ
GET /api/tokens/transactions?type=usage     # ì‚¬ìš©ë§Œ
GET /api/tokens/transactions?type=all       # ì „ì²´ (ê¸°ë³¸ê°’)
```

#### 6.4.3 ê²°ì œ í”Œë¡œìš°
```
1. POST /api/tokens/purchase
2. Backend â†’ purchases ë ˆì½”ë“œ ìƒì„± (status='pending')
3. Backend â†’ ê²°ì œ URL ë°˜í™˜
4. í† ìŠ¤ ê²°ì œ ì™„ë£Œ â†’ Webhook /api/webhooks/toss/payment
5. Backend â†’ token_balance ì¦ê°€ + status='paid'
```

#### 6.4.4 ì£¼ìš” íŠ¹ì§•
- ì‚¬ìš©ì ê°„ í† í° ì „ì†¡ ë¶ˆê°€
- ì‘ê°€ëŠ” ìì‹ ì˜ ìŠ¤íƒ€ì¼ ì‚¬ìš© ì‹œì—ë„ í† í° ì°¨ê° (ê³µì •ì„±)
- ëª¨ë“  í† í° ê±°ë˜ëŠ” `transactions` í…Œì´ë¸”ì— ê¸°ë¡

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#token-api](docs/API.md#token-api)

---

### 6.5 í™”í’(Style) ì‹œìŠ¤í…œ

#### 6.5.1 í•µì‹¬ ì—”ë“œí¬ì¸íŠ¸
- `GET /api/styles` - ìŠ¤íƒ€ì¼ ëª©ë¡ (í•„í„°, ì •ë ¬, í˜ì´ì§€ë„¤ì´ì…˜)
- `GET /api/styles/:id` - ìŠ¤íƒ€ì¼ ìƒì„¸ + í•™ìŠµ ì§„í–‰ ìƒí™©
- `POST /api/styles` - ìŠ¤íƒ€ì¼ ìƒì„± (í•™ìŠµ ìš”ì²­)
- `PATCH /api/styles/:id` - ë©”íƒ€ë°ì´í„° ìˆ˜ì •
- `GET /api/styles/me` - ë‚´ ìŠ¤íƒ€ì¼ ëª©ë¡

#### 6.5.2 ìŠ¤íƒ€ì¼ ìƒì„± ê·œì¹™
- **ì´ë¯¸ì§€**: 10~100ì¥ (JPG, PNG, ìµœì†Œ 512Ã—512px, ìµœëŒ€ 10MB/ì¥)
- **íƒœê·¸**: ì˜ì–´ë§Œ í—ˆìš©
- **MVP ì œí•œ**: ì‘ê°€ë‹¹ 1ê°œ ìŠ¤íƒ€ì¼ë§Œ ìƒì„± ê°€ëŠ¥
- **í•™ìŠµ ì‹œê°„**: 30ë¶„~2ì‹œê°„ (ì´ë¯¸ì§€ ìˆ˜ì— ë”°ë¼)

#### 6.5.3 í•™ìŠµ ìƒíƒœ
- `pending` - ì—…ë¡œë“œ ì™„ë£Œ, ê²€ì¦ ëŒ€ê¸°
- `training` - í•™ìŠµ ì§„í–‰ ì¤‘ (ì§„í–‰ë¥  í‘œì‹œ)
- `completed` - í•™ìŠµ ì™„ë£Œ, ì‚¬ìš© ê°€ëŠ¥
- `failed` - í•™ìŠµ ì‹¤íŒ¨

#### 6.5.4 ì§„í–‰ ìƒí™© ì¡°íšŒ (ì¤‘ìš” ë³€ê²½ì‚¬í•­)
**ë³„ë„ `/progress` ì—”ë“œí¬ì¸íŠ¸ ì œê±°**, ë©”ì¸ ë¦¬ì†ŒìŠ¤ì—ì„œ í†µí•© ì¡°íšŒ:

```json
GET /api/styles/:id
{
  "id": 10,
  "name": "My Style",
  "training_status": "training",
  "progress": {
    "current_epoch": 50,
    "total_epochs": 100,
    "progress_percent": 50,
    "estimated_seconds": 900,
    "last_updated": "2025-01-15T12:00:00Z"
  }
}
```

- `training_status='training'`ì¼ ë•Œë§Œ `progress` ê°ì²´ ì¡´ì¬
- ì™„ë£Œ/ì‹¤íŒ¨ ì‹œ `progress=null`
- Training ServerëŠ” 30ì´ˆë§ˆë‹¤ Backendì— ì§„í–‰ ìƒí™© ì „ì†¡
- í”„ë¡ íŠ¸ì—”ë“œëŠ” ë™ì  í´ë§ (queued: 30ì´ˆ, training: 5ì´ˆ)

#### 6.5.5 ìŠ¤íƒ€ì¼ ì •ë ¬ ì˜µì…˜ (ëª…í™•í™”)
```
GET /api/styles?sort=recent   # created_at DESC (ê¸°ë³¸ê°’)
GET /api/styles?sort=popular  # ì‹¤ì œ ì‚¬ìš© íšŸìˆ˜ DESC â†’ created_at DESC
```

**popular ì •ë ¬ ê¸°ì¤€**:
1. 1ì°¨: ì‹¤ì œ ìƒì„± íšŸìˆ˜ (`generations_count`)
2. 2ì°¨: ìµœì‹ ìˆœ (`created_at DESC`)

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#styles-api](docs/API.md#styles-api)

---

### 6.6 ì´ë¯¸ì§€ ìƒì„± ì‹œìŠ¤í…œ

#### 6.6.1 í•µì‹¬ ì—”ë“œí¬ì¸íŠ¸
- `POST /api/generations` - ì´ë¯¸ì§€ ìƒì„± ìš”ì²­
- `GET /api/generations/:id` - ìƒì„± ìƒíƒœ + ê²°ê³¼ ì¡°íšŒ
- `GET /api/generations/feed` - ê³µê°œ í”¼ë“œ
- `GET /api/generations/me` - ë‚´ ìƒì„± ì´ë¯¸ì§€ ëª©ë¡
- `PATCH /api/generations/:id` - ê³µê°œ ì—¬ë¶€, ì„¤ëª… ìˆ˜ì •

**MVP ì œí•œ**: ì´ë¯¸ì§€ ì‚­ì œ ë¶ˆê°€, ë¹„ê³µê°œ ì „í™˜(`is_public=false`)ìœ¼ë¡œ ëŒ€ì²´

#### 6.6.2 ìƒì„± ìš”ì²­ íŒŒë¼ë¯¸í„°
```json
POST /api/generations
{
  "style_id": 10,
  "prompt_tags": ["woman", "portrait", "sunset"],
  "description": "ë…¸ì„ ë°°ê²½ì˜ ì—¬ì„± ì´ˆìƒí™”",
  "aspect_ratio": "1:1",  // 1:1, 2:2, 1:2
  "seed": 42
}
```

#### 6.6.3 ìƒì„± í”Œë¡œìš°
```
1. í† í° ì°¨ê° (ì›ìì  íŠ¸ëœì­ì…˜)
2. RabbitMQ í ì „ì†¡ (status='queued')
3. Inference Server ì²˜ë¦¬ (status='processing')
4. ì´ë¯¸ì§€ ìƒì„± + ì„œëª… ì‚½ì…
5. S3 ì—…ë¡œë“œ (status='completed')
6. ì•Œë¦¼ ì „ì†¡
```

#### 6.6.4 ì§„í–‰ ìƒí™© ì¡°íšŒ (ì¤‘ìš” ë³€ê²½ì‚¬í•­)
**ë³„ë„ `/progress` ì—”ë“œí¬ì¸íŠ¸ ì œê±°**, ë©”ì¸ ë¦¬ì†ŒìŠ¤ì—ì„œ í†µí•© ì¡°íšŒ:

```json
GET /api/generations/:id
{
  "id": 500,
  "status": "processing",
  "progress": {
    "current_step": 38,
    "total_steps": 50,
    "progress_percent": 76,
    "estimated_seconds": 3,
    "last_updated": "2025-01-15T12:00:05Z"
  }
}
```

- `status='processing'`ì¼ ë•Œë§Œ `progress` ê°ì²´ ì¡´ì¬
- ì™„ë£Œ/ì‹¤íŒ¨ ì‹œ `progress=null`

#### 6.6.5 ì‹¤íŒ¨ ì²˜ë¦¬ (ìƒì„¸í™”)
**ì¬ì‹œë„ ì „ëµ**:
1. **ì¬ì‹œë„ ëŒ€ìƒ ì˜¤ë¥˜**:
   - GPU OOM, íƒ€ì„ì•„ì›ƒ, ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ â†’ ìë™ ì¬ì‹œë„
   - ì˜ëª»ëœ í”„ë¡¬í”„íŠ¸, ëª¨ë¸ ì—†ìŒ â†’ ì¦‰ì‹œ ì‹¤íŒ¨

2. **ì¬ì‹œë„ ë¡œì§**:
   - ìµœëŒ€ 3íšŒ, ì§€ìˆ˜ ë°±ì˜¤í”„ (0ì´ˆ, 30ì´ˆ, 120ì´ˆ)
   - `status='retrying'` í‘œì‹œ
   - í† í°ì€ ìµœì´ˆ 1íšŒë§Œ ì°¨ê°, ì¬ì‹œë„ ë¹„ìš©ì€ í”Œë«í¼ ë¶€ë‹´

3. **ìµœì¢… ì‹¤íŒ¨ ì‹œ**:
   - í† í° ì „ì•¡ í™˜ë¶ˆ
   - `status='failed'` + ì—ëŸ¬ ì•Œë¦¼

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#generations-api](docs/API.md#generations-api)

---

### 6.7 ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥

#### 6.7.1 ì†Œì…œ ê¸°ëŠ¥ ì—”ë“œí¬ì¸íŠ¸

| ê¸°ëŠ¥ | ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ |
|------|-----------|--------|
| íŒ”ë¡œìš° | `/api/users/:id/follow` | POST |
| ì–¸íŒ”ë¡œìš° | `/api/users/:id/follow` | DELETE |
| íŒ”ë¡œì‰ ëª©ë¡ | `/api/users/me/following` | GET |
| ì¢‹ì•„ìš” | `/api/generations/:id/like` | POST |
| ì¢‹ì•„ìš” ì·¨ì†Œ | `/api/generations/:id/like` | DELETE |
| ëŒ“ê¸€ ëª©ë¡ | `/api/generations/:id/comments` | GET |
| ëŒ“ê¸€ ì‘ì„± | `/api/generations/:id/comments` | POST |
| ëŒ“ê¸€ ìˆ˜ì • | `/api/comments/:id` | PATCH |
| ëŒ“ê¸€ ì‚­ì œ | `/api/comments/:id` | DELETE |

#### 6.7.2 MVP ì œí•œì‚¬í•­
- **íŒ”ë¡œì›Œ ëª©ë¡ ì¡°íšŒ ë¶ˆê°€**: ë‚´ê°€ íŒ”ë¡œì‰í•˜ëŠ” ëª©ë¡ë§Œ ì¡°íšŒ ê°€ëŠ¥
- **1ë‹¨ê³„ ëŒ€ëŒ“ê¸€ë§Œ**: ëŒ€ëŒ“ê¸€ì˜ ëŒ€ëŒ“ê¸€ ë¶ˆê°€ (`parent_id` 1ë‹¨ê³„ë§Œ)
- **ëŒ“ê¸€ ì¢‹ì•„ìš” ì—†ìŒ**: ìƒì„±ë¬¼ ì¢‹ì•„ìš”ë§Œ ì§€ì›

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#community-api](docs/API.md#community-api)

---

### 6.8 ê²€ìƒ‰ ì‹œìŠ¤í…œ (ë‹¨ìˆœí™”)

#### 6.8.1 í†µí•© ê²€ìƒ‰ ì—”ë“œí¬ì¸íŠ¸
```
GET /api/search?q=watercolor&type=all
```

**type íŒŒë¼ë¯¸í„°**:
- `all` (ê¸°ë³¸ê°’) - ìŠ¤íƒ€ì¼ + ì‘ê°€ í†µí•© ê²€ìƒ‰
- `styles` - ìŠ¤íƒ€ì¼ë§Œ (íƒœê·¸ + ìŠ¤íƒ€ì¼ ì´ë¦„)
- `artists` - ì‘ê°€ë§Œ (ì‘ê°€ëª… + ìœ ì €ëª…)

#### 6.8.2 ì‘ë‹µ êµ¬ì¡°
```json
{
  "success": true,
  "data": {
    "styles": [
      {
        "id": 10,
        "name": "Watercolor Dreams",
        "thumbnail_url": "...",
        "artist": { "id": 5, "artist_name": "John" },
        "matched_by": "tag"  // "tag" | "name"
      }
    ],
    "artists": [
      {
        "id": 5,
        "username": "watercolor_master",
        "artist_name": "Watercolor Master",
        "follower_count": 1234,
        "matched_by": "name"
      }
    ]
  }
}
```

#### 6.8.3 ê²€ìƒ‰ ë¡œì§
- **ìŠ¤íƒ€ì¼**: íƒœê·¸ ê²€ìƒ‰ + ìŠ¤íƒ€ì¼ ì´ë¦„ ê²€ìƒ‰ (ìë™ íƒœê·¸ í¬í•¨)
- **ì‘ê°€**: `artists.artist_name` + `users.username` ê²€ìƒ‰
- **MVP ì œì™¸**: ì¸ê¸° íƒœê·¸ API, ìë™ì™„ì„± API

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#search-api](docs/API.md#search-api)

---

### 6.9 ì•Œë¦¼ ì‹œìŠ¤í…œ

#### 6.9.1 ì•Œë¦¼ íƒ€ì…
- `follow` - íŒ”ë¡œìš° ì•Œë¦¼
- `like` - ì¢‹ì•„ìš” ì•Œë¦¼
- `comment` - ëŒ“ê¸€ ì•Œë¦¼
- `generation_complete` - ìƒì„± ì™„ë£Œ (ì‹œìŠ¤í…œ)
- `generation_failed` - ìƒì„± ì‹¤íŒ¨ (ì‹œìŠ¤í…œ)
- `style_training_complete` - í•™ìŠµ ì™„ë£Œ (ì‹œìŠ¤í…œ)
- `style_training_failed` - í•™ìŠµ ì‹¤íŒ¨ (ì‹œìŠ¤í…œ)

#### 6.9.2 í•µì‹¬ ì—”ë“œí¬ì¸íŠ¸
- `GET /api/notifications` - ì•Œë¦¼ ëª©ë¡ (í˜ì´ì§€ë„¤ì´ì…˜)
- `PATCH /api/notifications/:id/read` - ì½ìŒ ì²˜ë¦¬
- `POST /api/notifications/read-all` - ëª¨ë“  ì•Œë¦¼ ì½ìŒ

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#notifications-api](docs/API.md#notifications-api)

---

### 6.10 Webhook API (ë‚´ë¶€ ì „ìš©)

#### 6.10.1 ì¸ì¦ ë°©ì‹ (ê°•í™”)
```http
Authorization: Bearer <INTERNAL_API_TOKEN>
X-Request-Source: training-server | inference-server
```

**ë³´ì•ˆ ì„¤ì •**:
- í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬: `INTERNAL_API_TOKEN` (ê¸´ UUID)
- IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸: AI ì„œë²„ IPë§Œ í—ˆìš©
- í† í° Rotation: ì›” 1íšŒ

#### 6.10.2 ì£¼ìš” Webhook

**ê²°ì œ ì™„ë£Œ** (í† ìŠ¤):
```
POST /api/webhooks/toss/payment
```

**ìŠ¤íƒ€ì¼ í•™ìŠµ ì™„ë£Œ/ì‹¤íŒ¨**:
```
POST /api/webhooks/training/complete
POST /api/webhooks/training/failed
```

**ì´ë¯¸ì§€ ìƒì„± ì™„ë£Œ/ì‹¤íŒ¨**:
```
POST /api/webhooks/inference/complete
POST /api/webhooks/inference/failed
```

**ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸**:
- Training Server â†’ `PATCH /api/webhooks/training/progress` (progress JSONB ì—…ë°ì´íŠ¸)
- Inference Server â†’ `PATCH /api/webhooks/inference/progress` (progress JSONB ì—…ë°ì´íŠ¸)

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#webhooks](docs/API.md#webhooks)

---

### 6.11 Rate Limiting (ì¬ì„¤ê³„)

#### 6.11.1 ì œí•œ ì •ì±…

| ì—”ë“œí¬ì¸íŠ¸ ìœ í˜• | ì œí•œ | ì‹ë³„ ê¸°ì¤€ |
|--------------|------|----------|
| ë¡œê·¸ì¸ ì‹œë„ | 5íšŒ / 5ë¶„ | IP |
| ì´ë¯¸ì§€ ìƒì„± | 6íšŒ / ë¶„ | User ID (GPU ì²˜ë¦¬ ì†ë„ ê³ ë ¤) |
| ê¸°íƒ€ ì¸ì¦ API | 100íšŒ / ë¶„ | User ID |
| ë¹„ì¸ì¦ API | 50íšŒ / ë¶„ | IP |

#### 6.11.2 ì´ˆê³¼ ì‹œ ì²˜ë¦¬
- HTTP 429 ë°˜í™˜
- `Retry-After` í—¤ë” í¬í•¨ (ì´ˆ ë‹¨ìœ„)

#### 6.11.3 êµ¬í˜„ ë°©ì‹
- ë¼ì´ë¸ŒëŸ¬ë¦¬: `django-ratelimit`
- ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ë°©ì‹

**ìƒì„¸ ëª…ì„¸**: [docs/API.md#rate-limiting](docs/API.md#rate-limiting)

---

### 6.12 ì—ëŸ¬ ì½”ë“œ ì²´ê³„

#### 6.12.1 HTTP ìƒíƒœ ì½”ë“œ

| ì½”ë“œ | ì˜ë¯¸ | ì£¼ìš” ì‚¬ìš© |
|------|------|----------|
| 200 | OK | ì„±ê³µ |
| 201 | Created | ë¦¬ì†ŒìŠ¤ ìƒì„± ì„±ê³µ |
| 400 | Bad Request | ì˜ëª»ëœ ìš”ì²­ |
| 401 | Unauthorized | ì¸ì¦ í•„ìš” |
| 402 | Payment Required | í† í° ë¶€ì¡± |
| 403 | Forbidden | ê¶Œí•œ ì—†ìŒ |
| 404 | Not Found | ë¦¬ì†ŒìŠ¤ ì—†ìŒ |
| 409 | Conflict | ë¦¬ì†ŒìŠ¤ ì¶©ëŒ |
| 422 | Unprocessable | ê²€ì¦ ì‹¤íŒ¨ |
| 429 | Too Many Requests | Rate Limit ì´ˆê³¼ |
| 500 | Server Error | ì„œë²„ ì˜¤ë¥˜ |

#### 6.12.2 ì£¼ìš” ì• í”Œë¦¬ì¼€ì´ì…˜ ì—ëŸ¬ ì½”ë“œ

**ì¸ì¦/ê¶Œí•œ**:
- `UNAUTHORIZED` (401)
- `FORBIDDEN` (403)
- `ARTIST_ONLY` (403)

**í† í°**:
- `INSUFFICIENT_TOKENS` (402)
- `PAYMENT_FAILED` (402)

**ìŠ¤íƒ€ì¼**:
- `STYLE_LIMIT_REACHED` (403) - MVP: 1ê°œ ì œí•œ
- `STYLE_NOT_READY` (422) - í•™ìŠµ ë¯¸ì™„ë£Œ
- `TRAINING_FAILED` (500)

**ì´ë¯¸ì§€**:
- `INVALID_IMAGE_FORMAT` (422)
- `IMAGE_SIZE_EXCEEDED` (422)
- `GENERATION_FAILED` (500)

**ì»¤ë®¤ë‹ˆí‹°**:
- `DUPLICATE_FOLLOW` (409)
- `SELF_FOLLOW_NOT_ALLOWED` (400)
- `REPLY_DEPTH_EXCEEDED` (422)

**ì „ì²´ ëª©ë¡**: [docs/API.md#error-codes](docs/API.md#error-codes)

---

### 6.13 ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

#### 6.13.1 CSRF ë³´í˜¸
- ëª¨ë“  ë³€ê²½ ìš”ì²­ (`POST`, `PUT`, `PATCH`, `DELETE`)ì— CSRF í† í° í•„ìˆ˜
- Django ê¸°ë³¸ ë¯¸ë“¤ì›¨ì–´ ì‚¬ìš©

#### 6.13.2 ì„¸ì…˜ ë³´ì•ˆ
- `httponly` ì¿ í‚¤: XSS ë°©ì–´
- `secure` ì¿ í‚¤: HTTPS ì „ì†¡ë§Œ (í”„ë¡œë•ì…˜)
- `samesite=lax`: CSRF ì¶”ê°€ ë°©ì–´

#### 6.13.3 ì…ë ¥ ê²€ì¦
- ëª¨ë“  ì…ë ¥ê°’ ì„œë²„ ì¬ê²€ì¦ (DRF Serializer)
- SQL Injection, XSS ë°©ì–´

**ìƒì„¸ ë³´ì•ˆ ì •ì±…**: [docs/SECURITY.md](docs/SECURITY.md)

---

### 6.14 ì°¸ì¡° ë¬¸ì„œ

ì™„ì „í•œ API ëª…ì„¸ ë° ê´€ë ¨ ë¬¸ì„œ:
- **ì „ì²´ API ëª…ì„¸**: [docs/API.md](docs/API.md) â† êµ¬í˜„ ì‹œ í•„ìˆ˜ ì°¸ì¡°
- **ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ**: [docs/database/README.md](docs/database/README.md)
- **ì¿¼ë¦¬ ì˜ˆì œ**: [docs/database/guides/QUERIES.md](docs/database/guides/QUERIES.md)
- **ë³´ì•ˆ ì •ì±…**: [docs/SECURITY.md](docs/SECURITY.md)

---

## 7. í”„ë¡ íŠ¸ì—”ë“œ ì•„í‚¤í…ì²˜

### 7.1 ê¸°ìˆ  ìŠ¤íƒ
- **í”„ë ˆì„ì›Œí¬**: Vue 3 (Composition API, JavaScript ê¸°ë°˜)
- **ìƒíƒœ ê´€ë¦¬**: Pinia
- **ë¼ìš°íŒ…**: Vue Router
- **ìŠ¤íƒ€ì¼ë§**: Tailwind CSS
- **ë‹¤êµ­ì–´ ì²˜ë¦¬**: Vue I18n
- **ë¹Œë“œ ë„êµ¬**: Vite

> â€» TypeScriptëŠ” ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©°, ëŸ°íƒ€ì„ ê²€ì¦(Zod ë“±)ê³¼ ESLintë¥¼ í†µí•´ ì½”ë“œ ì•ˆì •ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤.

---

### 7.2 ì£¼ìš” í˜ì´ì§€ êµ¬ì„±
- **Main Page**: í”Œë«í¼ ë©”ì¸ / ê³µê°œ í”¼ë“œ ê·¸ë¦¬ë“œ
- **Feed Detail Page**: ê°œë³„ í”¼ë“œ(ì´ë¯¸ì§€)ì˜ ìƒì„¸ë³´ê¸°
  - **Comment Modal**: ëŒ“ê¸€ ëª©ë¡ë³´ê¸°
- **Search & Following Artist Page**: ìŠ¤íƒ€ì¼ ê²€ìƒ‰ ë° íŒ”ë¡œìš° ëª©ë¡ ì¡°íšŒ
  - **ìƒë‹¨**: ê²€ìƒ‰ì°½ (íƒœê·¸ ê¸°ë°˜ ìŠ¤íƒ€ì¼ ê²€ìƒ‰, ì‘ê°€ ì´ë¦„ ê²€ìƒ‰)
  - **ì •ë ¬ ì˜µì…˜**: ìµœì‹ ìˆœ(recent), ì¸ê¸°ìˆœ(popular - íŒ”ë¡œì›Œ ë§ì€ ì‘ê°€ ìš°ì„ )
  - **íŒ”ë¡œì‰ ì„¹ì…˜**: ë‚´ê°€ íŒ”ë¡œì‰í•œ ì‘ê°€ë“¤ì˜ ìŠ¤íƒ€ì¼ ëª©ë¡ (ê³ ì • ì˜ì—­)
    - íŒ”ë¡œì‰í•œ ì‘ê°€ê°€ ì—†ìœ¼ë©´ ë¹ˆ ìƒíƒœ í‘œì‹œ
  - **ì „ì²´ ìŠ¤íƒ€ì¼ ê·¸ë¦¬ë“œ**: ê²€ìƒ‰ ê²°ê³¼ ë˜ëŠ” ì „ì²´ ìŠ¤íƒ€ì¼ ëª©ë¡
- **Style Detail Page**: íŠ¹ì • ìŠ¤íƒ€ì¼(ì‘ê°€)ì˜ ìƒì„¸ ì •ë³´ ë° ì´ë¯¸ì§€ ìƒì„± í™”ë©´
- **My Page**: ì •ë³´ ìˆ˜ì •, ìŠ¤íƒ€ì¼ ê´€ë¦¬ í˜ì´ì§€, ê²°ì œ í˜ì´ì§€ ì´ë™ ë²„íŠ¼ / ê³µê°œ, ë¹„ê³µê°œ í”¼ë“œ ê·¸ë¦¬ë“œ 
- **Edit / Create Style Page**: ìƒˆë¡œìš´ í™”í’(ëª¨ë¸) ìƒì„± / ì—…ë¡œë“œ / ê°€ê²©, ì„¤ëª… ìˆ˜ì •
- **Edit Profile**: ì‚¬ìš©ì í”„ë¡œí•„ ë° ì •ë³´ ìˆ˜ì •
- **Payment Page**: í† í° ê²°ì œ ë‚´ì—­, í† í° ì‚¬ìš© ë‚´ì—­ ì¡°íšŒ, í† í° êµ¬ë§¤
- **Notification Page**: ì•Œë¦¼ ë‚´ì—­ ì¡°íšŒ ë° ì½ìŒ ì²˜ë¦¬

---

### 7.3 ìƒíƒœ ê´€ë¦¬ ì „ëµ
- ê° ì£¼ìš” ë„ë©”ì¸(`auth`, `models`, `generation`, `community`)ë³„ë¡œ **ë…ë¦½ì ì¸ Pinia ìŠ¤í† ì–´** ìš´ì˜
- ê³µí†µ ë¡œì§(í˜ì´ì§€ë„¤ì´ì…˜, API ì—ëŸ¬ ì²˜ë¦¬ ë“±)ì€ **Composable í›…**ìœ¼ë¡œ ê³µìœ 
- ì „ì—­ ìƒíƒœëŠ” ìµœì†Œí™”í•˜ë©°, ì„¸ì…˜/í…Œë§ˆ ìˆ˜ì¤€ë§Œ ì „ì—­ìœ¼ë¡œ ìœ ì§€

---

### 7.4 ë¼ìš°íŒ… ì „ëµ
- **ì¸ì¦ í•„ìš” ë¼ìš°íŠ¸**: ë¡œê·¸ì¸ ì—¬ë¶€ì— ë”°ë¼ ì ‘ê·¼ ì œí•œ (`meta.requiresAuth`)
- **ì‘ê°€ ì „ìš© ë¼ìš°íŠ¸**: ì‚¬ìš©ì ê¶Œí•œ(Role) ê²€ì¦ í›„ ì ‘ê·¼ í—ˆìš©
- **ì§€ì—° ë¡œë”©(Lazy Loading)**ì„ í†µí•´ í˜ì´ì§€ ë‹¨ìœ„ ë²ˆë“¤ í¬ê¸° ìµœì†Œí™”
- **ê°€ë“œ(Guards)**ë¥¼ í†µí•´ ë¡œê·¸ì¸/ê¶Œí•œ/CSRF ìƒíƒœë¥¼ ì¼ê´€ë˜ê²Œ ì ê²€
- **ë‹¤êµ­ì–´ URL Prefix**(`/ko`, `/en`) ì ìš©ì„ ê³ ë ¤í•œ ë¼ìš°íŒ… êµ¬ì¡° ìœ ì§€

> **ìƒì„¸ êµ¬ì¡°**: [apps/frontend/README.md](apps/frontend/README.md)

---

## 8. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° í•µì‹¬ ê¸°ëŠ¥

### 8.1 í™”í’ ëª¨ë¸ í•™ìŠµ (Fine-tuning)

#### ì²˜ë¦¬ í”Œë¡œìš°
1. ì‘ê°€ê°€ 10ì¥ ì´ìƒì˜ í•™ìŠµ ì´ë¯¸ì§€ ì—…ë¡œë“œ
2. Backendì—ì„œ ì´ë¯¸ì§€ ê²€ì¦ (í˜•ì‹, í¬ê¸°, ì €ì‘ê¶Œ í™•ì¸)
3. RabbitMQ íì— í•™ìŠµ ì‘ì—… ì „ì†¡
4. GPU Serverê°€ ì‘ì—… ìˆ˜ì‹ 
5. Stable Diffusion ê¸°ë°˜ LoRA Fine-tuning ì‹¤í–‰
6. í•™ìŠµëœ ëª¨ë¸ì„ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
7. DBì— ëª¨ë¸ ìƒíƒœ ì—…ë°ì´íŠ¸ (completed/failed)
8. ì‘ê°€ì—ê²Œ ì•Œë¦¼ ì „ì†¡

#### ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™
- ìµœì†Œ 10ì¥, ìµœëŒ€ 100ì¥ì˜ í•™ìŠµ ì´ë¯¸ì§€ í•„ìš”
- ì´ë¯¸ì§€ í•´ìƒë„: 512x512 ì´ìƒ
- ì§€ì› í˜•ì‹: JPG, PNG
- í•™ìŠµ ì‹œê°„: ì•½ 30ë¶„ ~ 2ì‹œê°„ (ì´ë¯¸ì§€ ìˆ˜ì— ë”°ë¼)
- **ìŠ¤íƒ€ì¼ ì´ë¦„ ìë™ íƒœê·¸í™”**: ìŠ¤íƒ€ì¼ ìƒì„± ì‹œ ìŠ¤íƒ€ì¼ ì´ë¦„(title)ì´ ìë™ìœ¼ë¡œ ëª¨ë“  í•™ìŠµ ì´ë¯¸ì§€ì— ì†Œë¬¸ì íƒœê·¸ë¡œ ë“±ë¡ë¨
  - ì˜ˆ: "Watercolor Dreams" â†’ "watercolor dreams" íƒœê·¸ ìë™ ìƒì„±

### 8.2 ì´ë¯¸ì§€ ìƒì„± ë° ì„œëª… ì‚½ì…

#### ì²˜ë¦¬ í”Œë¡œìš°
1. ì‚¬ìš©ìê°€ í”„ë¡¬í”„íŠ¸ íƒœê·¸ í˜•ì‹, ì´ë¯¸ì§€ ë‚´ìš© ì…ë ¥ ë° ìŠ¤íƒ€ì¼ (ëª¨ë¸) ì„ íƒ
2. Backendì—ì„œ í† í° ì”ì•¡ í™•ì¸
3. í† í° ì°¨ê° (ë¯¸ë¦¬ ì°¨ê° ë˜ëŠ” ìƒì„± ì„±ê³µ í›„ ì°¨ê°)
4. RabbitMQ íì— ì´ë¯¸ì§€ ìƒì„± ì‘ì—… ì „ì†¡
5. GPU Serverê°€ ì´ë¯¸ì§€ ìƒì„±
6. **ìƒì„±ëœ ì´ë¯¸ì§€ì— ì‘ê°€ ì„œëª… ìë™ ì‚½ì…**
7. ì„œëª… í¬í•¨ ì´ë¯¸ì§€ë¥¼ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
8. DBì— ìƒì„± ì´ë ¥ ê¸°ë¡
9. ì‚¬ìš©ìì—ê²Œ ì´ë¯¸ì§€ ë°˜í™˜

#### ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™
- í† í° ë¶€ì¡± ì‹œ ì´ë¯¸ì§€ ìƒì„± ë¶ˆê°€
- ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨ ì‹œ í† í° í™˜ë¶ˆ
- ì„œëª…ì€ ìœ„ì¹˜/í¬ê¸°/íˆ¬ëª…ë„ ê·œì¹™ ê³ ì •, ì œê±° ë¶ˆê°€ (ì›ë³¸ ì´ë¯¸ì§€ëŠ” ì‚¬ìš©ì ì ‘ê·¼ ë¶ˆê°€)
- ìƒì„±ëœ ì´ë¯¸ì§€ëŠ” ìë™ìœ¼ë¡œ ì‘ê°€ ì •ë³´ ë©”íƒ€ë°ì´í„° í¬í•¨

### 8.3 í† í° ì‹œìŠ¤í…œ

#### í† í° ê°€ê²© ì±…ì •
- ì‘ê°€ê°€ ëª¨ë¸ ë“±ë¡ ì‹œ 1ì¥ë‹¹ í† í° ê°€ê²© ì„¤ì • (1 ~ 10000 ë²”ìœ„)
- í”Œë«í¼ ìˆ˜ìˆ˜ë£Œ: ì—†ìŒ (MVPì—ì„œëŠ” ì‘ê°€ê°€ 100% ìˆ˜ì·¨)

#### ì›°ì»´ í† í° (ì‹ ê·œ ê°€ì… ë³´ë„ˆìŠ¤)
- **ì§€ê¸‰ ì‹œì **: Google OAuth ìµœì´ˆ ê°€ì… ì‹œ ìë™ ì§€ê¸‰
- **ì§€ê¸‰ ìˆ˜ëŸ‰**: 100 í† í°
- **ê±°ë˜ ê¸°ë¡**: `transactions` í…Œì´ë¸”ì— ê¸°ë¡
  - `sender_id`: NULL (í”Œë«í¼ì—ì„œ ì§€ê¸‰)
  - `receiver_id`: ì‹ ê·œ ì‚¬ìš©ì ID
  - `amount`: 100
  - `status`: 'completed'
  - `memo`: 'Welcome Bonus'
  - `related_generation_id`: NULL
- **ëª©ì **: ì‹ ê·œ ì‚¬ìš©ìê°€ í† í° êµ¬ë§¤ ì—†ì´ í”Œë«í¼ ì²´í—˜ ê°€ëŠ¥

#### í† í° êµ¬ë§¤
- **ê²°ì œ ìˆ˜ë‹¨**: ì‹ ìš©ì¹´ë“œ, ê°„í¸ê²°ì œ (í† ìŠ¤í˜ì´ë¨¼ì¸ ) (í•´ì™¸ ê²°ì œ ê³ ë ¤)
- **í† í° íŒ¨í‚¤ì§€** (ì„œë²„ì—ì„œ ì •ì˜, í´ë¼ì´ì–¸íŠ¸ ì¡°ì‘ ë¶ˆê°€):
  - `basic_100`: 100 í† í°, â‚©10,000 (â‚©100/í† í°)
  - `standard_500`: 500 í† í°, â‚©45,000 (â‚©90/í† í°, 10% í• ì¸)
  - `premium_1000`: 1000 í† í°, â‚©80,000 (â‚©80/í† í°, 20% í• ì¸)
- **ë³´ì•ˆ**: ê°€ê²©ì€ ì„œë²„ ì¸¡ íŒ¨í‚¤ì§€ ì •ì˜ì—ì„œë§Œ ì¡°íšŒ, í´ë¼ì´ì–¸íŠ¸ëŠ” package_idë§Œ ì „ë‹¬

#### í† í° ì†Œë¹„
- ì´ë¯¸ì§€ ìƒì„± ìš”ì²­ ì‹œ ì¦‰ì‹œ ì°¨ê°
- ìƒì„± ì‹¤íŒ¨ ì‹œ ìë™ í™˜ë¶ˆ
- ë™ì‹œì„± ì œì–´: PostgreSQL SELECT FOR UPDATE

#### í† í° ì •ì‚° (MVP ì œì™¸)
- ì‘ê°€ì˜ í† í° â†’ í˜„ê¸ˆ í™˜ì „ ê¸°ëŠ¥ì€ MVP ì´í›„ êµ¬í˜„

### 8.4 ì•Œë¦¼ ì‹œìŠ¤í…œ

#### ì•Œë¦¼ íŠ¸ë¦¬ê±°
- ë‚´ ì´ë¯¸ì§€ì— ì¢‹ì•„ìš”: `image_liked`
- ë‚´ ì´ë¯¸ì§€ì— ëŒ“ê¸€: `image_commented`
- ëª¨ë¸ í•™ìŠµ ì™„ë£Œ: `model_training_completed`
- ëª¨ë¸ í•™ìŠµ ì‹¤íŒ¨: `model_training_failed`
- ì´ë¯¸ì§€ ìƒì„± ì™„ë£Œ: `image_generation_completed`
- ì´ë¯¸ì§€ ìƒì„± ì‹¤íŒ¨: `image_generation_failed`

#### ì§„í–‰ ìƒí™© í™•ì¸ 
- í•™ìŠµ/ìƒì„± ì§„í–‰ ì¤‘: ë§ˆì´í˜ì´ì§€ì—ì„œ ì‹¤ì‹œê°„ ì§„í–‰ë¥  í™•ì¸ ê°€ëŠ¥ (í´ë§ ë°©ì‹)
- ì™„ë£Œ/ì‹¤íŒ¨ ì‹œ: ì•Œë¦¼ ì „ì†¡

#### ì•Œë¦¼ ì „ë‹¬
- MVP: ì›¹ ë‚´ ì•Œë¦¼ ëª©ë¡ ì¡°íšŒ
- í–¥í›„: WebSocket ì‹¤ì‹œê°„ ì•Œë¦¼, ì´ë©”ì¼ ì•Œë¦¼

### 8.5 íƒœê·¸ ì‹œìŠ¤í…œ

#### íƒœê·¸ ë“±ë¡
- **ìë™ ë“±ë¡**: ìŠ¤íƒ€ì¼ ìƒì„± ì‹œ ìŠ¤íƒ€ì¼ ì´ë¦„ì´ í•™ìŠµ ì´ë¯¸ì§€ë§ˆë‹¤ ìë™ìœ¼ë¡œ íƒœê·¸ë¡œ ë“±ë¡ë¨
  - ì˜ˆ: ìŠ¤íƒ€ì¼ ì´ë¦„ "Watercolor Dreams" â†’ íƒœê·¸ "watercolor dreams" ìƒì„±
- **ìˆ˜ë™ ë“±ë¡**: ëª¨ë¸ í•™ìŠµ ì‹œ ì‘ê°€ê°€ ì¶”ê°€ íƒœê·¸ ì…ë ¥ (ì˜ˆ: "portrait", "anime")
- ê°œë³„ í•™ìŠµ ì´ë¯¸ì§€ë§ˆë‹¤ íƒœê·¸ ì„¤ì • ê°€ëŠ¥
- ëª¨ë“  íƒœê·¸ëŠ” ì†Œë¬¸ìë¡œ ì •ê·œí™”ë˜ì–´ ì €ì¥

#### íƒœê·¸ ê¸°ë°˜ ê²€ìƒ‰
- í†µí•© ê²€ìƒ‰ API: íƒœê·¸ ê¸°ë°˜ ìŠ¤íƒ€ì¼ ê²€ìƒ‰ + ì‘ê°€ ì´ë¦„ ê²€ìƒ‰
- ìŠ¤íƒ€ì¼ ì´ë¦„ ìì²´ê°€ íƒœê·¸ì´ë¯€ë¡œ ë³„ë„ì˜ ìŠ¤íƒ€ì¼ ì´ë¦„ ê²€ìƒ‰ ë¶ˆí•„ìš”

#### íƒœê·¸ ê¸°ë°˜ í”„ë¡¬í”„íŠ¸
- ì‚¬ìš©ìê°€ ì´ë¯¸ì§€ ìƒì„± ì‹œ íƒœê·¸ ì…ë ¥ (ì˜ˆ: "watercolor woman portrait")
- âš  ì˜ì–´ë§Œ í—ˆìš© (Stable Diffusion í”„ë¡¬í”„íŠ¸ í˜¸í™˜ì„±)

---

## 9. í´ë” êµ¬ì¡°, ê³µí†µ íŒ¨í„´

### 9.1 Monorepo êµ¬ì¡°
```
project-root/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ backend/          # ê°œë°œìš© Django API ì„œë²„
â”‚   â”œâ”€â”€ frontend/         # ê°œë°œìš© Vue 3 SPA
â”‚   â”œâ”€â”€ training-server/  # LoRA í•™ìŠµ ì„œë²„
â”‚   â”œâ”€â”€ inference-server/ # ì´ë¯¸ì§€ ìƒì„± ì„œë²„
â”‚   â””â”€â”€ deploy/           # ğŸš€ EC2 ë°°í¬ ì „ìš© ë…ë¦½ í”„ë¡œì íŠ¸
â”‚                         #    (backend ì „ë¬¸ + frontend ë¹Œë“œ ê²°ê³¼ë¬¼)
â”œâ”€â”€ docs/                 # ê³µí†µ ë¬¸ì„œ
â””â”€â”€ design/               # ë””ìì¸ ë¦¬ì†ŒìŠ¤
```

**ê°œë°œ vs ë°°í¬**:
- `apps/backend/`, `apps/frontend/`: ê°œë°œìš© ì½”ë“œ (ì´ê³³ì—ì„œ ê°œë°œ)
- `apps/deploy/`: ë°°í¬ìš© í”„ë¡œì íŠ¸ (EC2ì— ë°°í¬, backend ì „ë¬¸ + frontend/dist/ í¬í•¨)

### 9.2 ê³µí†µ íŒ¨í„´
- API ì‘ë‹µ í˜•ì‹: [docs/PATTERNS.md](docs/PATTERNS.md)
- RabbitMQ ë©”ì‹œì§€ í¬ë§·: [docs/PATTERNS.md](docs/PATTERNS.md)
- ì—ëŸ¬ ì½”ë“œ ê·œì¹™: [docs/PATTERNS.md](docs/PATTERNS.md)

> **ìƒì„¸ ì½”ë“œ ê°€ì´ë“œ**:
> - Backend: [apps/backend/CODE_GUIDE.md](apps/backend/CODE_GUIDE.md)
> - Frontend: [apps/frontend/CODE_GUIDE.md](apps/frontend/CODE_GUIDE.md)
> - Training: [apps/training-server/CODE_GUIDE.md](apps/training-server/CODE_GUIDE.md)
> - Inference: [apps/inference-server/CODE_GUIDE.md](apps/inference-server/CODE_GUIDE.md)


---

## 10. ë³´ì•ˆ ì„¤ê³„

### 10.1 ì¸ì¦ ë° ì¸ê°€

#### Google OAuth 2.0
- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: Django-allauth
- **í”Œë¡œìš°**: Authorization Code Flow
- **ì„¸ì…˜ ê´€ë¦¬**: Django Session (httponly cookie)
- **ì„¸ì…˜ ë§Œë£Œ**: 2ì£¼ (ì¬ë¡œê·¸ì¸ í•„ìš”)

#### ê¶Œí•œ ê´€ë¦¬
- **ì¼ë°˜ ì‚¬ìš©ì**: ì´ë¯¸ì§€ ìƒì„±, í† í° êµ¬ë§¤, ëŒ“ê¸€, ì¢‹ì•„ìš”
- **ì‘ê°€**: ì¼ë°˜ ì‚¬ìš©ì ê¶Œí•œ + ëª¨ë¸ ìƒì„±

#### API ë³´í˜¸
- ëª¨ë“  APIëŠ” ì¸ì¦ í•„ìˆ˜ (ë¡œê·¸ì¸ í˜ì´ì§€ ì œì™¸)
- ì‘ê°€ ì „ìš© APIëŠ” `user_type === 'artist'` ê²€ì¦
- CSRF í† í° ê²€ì¦ (Django ê¸°ë³¸ ì œê³µ)

#### ì‚¬ìš©ì íƒˆí‡´ ì •ì±…
- **ì¼ë°˜ ì‚¬ìš©ì (ìŠ¤íƒ€ì¼ ë¯¸ìƒì„±)**:
  - ì¦‰ì‹œ íƒˆí‡´ ê°€ëŠ¥
  - `users` ì‚­ì œ ì‹œ CASCADEë¡œ ê´€ë ¨ ë°ì´í„° ìë™ ì‚­ì œ
  - ìƒì„±ë¬¼, ëŒ“ê¸€, ì¢‹ì•„ìš” ë“± ëª¨ë‘ ì‚­ì œë¨

- **ì‘ê°€ (ìŠ¤íƒ€ì¼ ìƒì„±, ì‚¬ìš© ë‚´ì—­ ìˆìŒ)**:
  - **ë¬¼ë¦¬ ì‚­ì œ ë¶ˆê°€** (DB ì œì•½ì¡°ê±´: `styles â†’ generations RESTRICT`)
  - ê³„ì • ë¹„í™œì„±í™” ë°©ì‹ ì‚¬ìš©:
    - `users.is_active = false` (ì†Œí”„íŠ¸ ì‚­ì œ)
    - ë¡œê·¸ì¸ ì°¨ë‹¨, í”„ë¡œí•„ ìˆ¨ê¹€
    - ìŠ¤íƒ€ì¼ ë° ìƒì„± ì´ë ¥ ë³´ì¡´ (ì €ì‘ê¶Œ ì¶”ì ìš©)
  - ì´ìœ : ë‹¤ë¥¸ ì‚¬ìš©ìê°€ í•´ë‹¹ ìŠ¤íƒ€ì¼ë¡œ ìƒì„±í•œ ì´ë¯¸ì§€ì˜ ë©”íƒ€ë°ì´í„° ë³´ì¡´ í•„ìš”

- **ì‘ê°€ (ìŠ¤íƒ€ì¼ ë¯¸ì‚¬ìš©)**:
  - ìŠ¤íƒ€ì¼ì— ì—°ê²°ëœ `generations`ê°€ ì—†ìœ¼ë©´ ì¦‰ì‹œ ì‚­ì œ ê°€ëŠ¥
  - Backendì—ì„œ `generations` COUNT í™•ì¸ í›„ ì²˜ë¦¬

### 10.2 ë°ì´í„° ë³´í˜¸

#### ë¯¼ê° ì •ë³´ ì•”í˜¸í™”
- í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬: `DATABASE_URL`, `SECRET_KEY`, `OAUTH_CLIENT_SECRET`
- **S3 Access**: 
  - **Backend EC2**: IAM Roleì„ ì‚¬ìš©í•˜ì—¬ EC2 ì¸ìŠ¤í„´ìŠ¤ì— S3 ì ‘ê·¼ ê¶Œí•œ ë¶€ì—¬
  - **ì™¸ë¶€ AI ì„œë²„**: ì „ìš© IAM ì‚¬ìš©ìë¥¼ ìƒì„±í•˜ê³ , ë°œê¸‰ëœ Access Keyë¥¼ í™˜ê²½ ë³€ìˆ˜ë¡œ ì‚¬ìš©í•˜ì—¬ S3ì— ì ‘ê·¼

#### ì´ë¯¸ì§€ ì €ì¥
- í•™ìŠµ ì´ë¯¸ì§€: S3 Private Bucket (ì‘ê°€ë§Œ ì ‘ê·¼)
- ìƒì„± ì´ë¯¸ì§€: S3 Public Bucket (ì„œëª… í¬í•¨, ë©”íƒ€ë°ì´í„° ê¸°ë¡)
- ì„œëª… ì—†ëŠ” ì›ë³¸ ì´ë¯¸ì§€ëŠ” ì‚¬ìš©ì ì ‘ê·¼ ë¶ˆê°€

### 10.3 Rate Limiting

- **ì´ë¯¸ì§€ ìƒì„±**: 1ëª…ë‹¹ 6íšŒ/ë¶„
- **API ì „ì²´**: 1ëª…ë‹¹ 100íšŒ/ë¶„
- **ë¡œê·¸ì¸ ì‹œë„**: 1 IPë‹¹ 5íšŒ/5ë¶„

### 10.4 ì…ë ¥ ê²€ì¦

- **Backend**: DRF Serializer ê²€ì¦
- **Frontend**: Zod ëŸ°íƒ€ì„ ê²€ì¦
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ**: íŒŒì¼ í˜•ì‹, í¬ê¸°, í•´ìƒë„ ê²€ì¦
- **í”„ë¡¬í”„íŠ¸**: XSS ë°©ì§€ (HTML íƒœê·¸ ì œê±°)

### 10.5 ë³´ì•ˆ í—¤ë”
```python
# Django settings.py
SECURE_BROWSER_XSS_FILTER = True
SECURE_CONTENT_TYPE_NOSNIFF = True
X_FRAME_OPTIONS = 'DENY'
SECURE_SSL_REDIRECT = True  # Production only
SESSION_COOKIE_SECURE = True  # Production only
CSRF_COOKIE_SECURE = True  # Production only
```

> **ìƒì„¸ ë³´ì•ˆ ì •ì±…**: [docs/SECURITY.md](docs/SECURITY.md)

---

## 11. ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹…

### 11.1 ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ

#### Backend (Django)
- **Global Exception Handler**: DRFì˜ `exception_handler` ì»¤ìŠ¤í„°ë§ˆì´ì§•
- **Business Logic Error**: ì»¤ìŠ¤í…€ Exception í´ë˜ìŠ¤ ì‚¬ìš©
- **Unexpected Error**: 500 ì‘ë‹µ + Sentry ì „ì†¡

#### Frontend (Vue)
- **API Error Interceptor**: Axios response interceptorì—ì„œ ì¼ê´„ ì²˜ë¦¬
- **Component Error Boundary**: `errorCaptured` í›… ì‚¬ìš©
- **User Feedback**: Toast ë©”ì‹œì§€ ë˜ëŠ” Error í˜ì´ì§€

#### AI Servers (Python)
- **RabbitMQ Consumer Error**: Nack + ì¬ì‹œë„ (ìµœëŒ€ 3íšŒ)
- **Training/Inference Failure**: Backend Webhook í˜¸ì¶œ + í† í° í™˜ë¶ˆ

### 11.2 ë¡œê¹… ì „ëµ

#### Backend
- **Access Log**: Django ê¸°ë³¸ ë¡œê¹… (INFO ë ˆë²¨)
- **Error Log**: ëª¨ë“  Exception (ERROR ë ˆë²¨)
- **Business Log**: í† í° íŠ¸ëœì­ì…˜, ëª¨ë¸ í•™ìŠµ ì‹œì‘/ì™„ë£Œ (INFO ë ˆë²¨)

#### AI Servers
- **Training Log**: í•™ìŠµ ì§„í–‰ë¥ , loss, epoch (INFO ë ˆë²¨)
- **Inference Log**: ì´ë¯¸ì§€ ìƒì„± ì‹œê°„, ì„œëª… ì‚½ì… ì„±ê³µ (INFO ë ˆë²¨)

#### ë¡œê·¸ ì €ì¥
- **Development**: ì½˜ì†” ì¶œë ¥
- **Production**: íŒŒì¼ ë¡œê·¸ + Sentry (Errorë§Œ)

### 11.3 ëª¨ë‹ˆí„°ë§

- **Sentry**: ì—ëŸ¬ ì¶”ì  (Backend, Frontend)
- **CloudWatch** (AWS): ì„œë²„ ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§
- **RabbitMQ Management UI**: í ê¸¸ì´, ì²˜ë¦¬ ì†ë„

---

## 12. ì„±ëŠ¥ ë° í™•ì¥ì„±

### 12.1 ì„±ëŠ¥ ëª©í‘œ

| ì§€í‘œ | ëª©í‘œ |
|------|------|
| API ì‘ë‹µ ì‹œê°„ (p95) | < 500ms |
| ì´ë¯¸ì§€ ìƒì„± ì‹œê°„ | < 10ì´ˆ/ì¥ |
| ëª¨ë¸ í•™ìŠµ ì‹œê°„ | < 30ë¶„ (10ì¥ ê¸°ì¤€) |
| ë™ì‹œ ì ‘ì†ì | 100ëª… ì´ìƒ |

### 12.2 ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”

#### ì¸ë±ìŠ¤ ì „ëµ
- `User.google_id` - ê³ ìœ  ì¸ë±ìŠ¤
- `StyleModel.training_status` - í•„í„°ë§ìš©
- `StyleModel.created_at` - ì •ë ¬ìš©
- `GeneratedImage(user_id, created_at)` - ë³µí•© ì¸ë±ìŠ¤
- `TokenTransaction(user_id, created_at)` - ë³µí•© ì¸ë±ìŠ¤

#### ì¿¼ë¦¬ ìµœì í™”
- `select_related`: ForeignKey ì¡°íšŒ ì‹œ
- `prefetch_related`: ManyToMany ì¡°íšŒ ì‹œ
- Pagination: Cursor-based (offset ëŒ€ì‹ )

### 12.3 ìºì‹± ì „ëµ

#### Redis ìºì‹± (MVP ì´í›„)
- ì¸ê¸° ëª¨ë¸ ëª©ë¡ (5ë¶„ TTL)
- ì¸ê¸° íƒœê·¸ ëª©ë¡ (10ë¶„ TTL)
- ì‚¬ìš©ì í† í° ì”ì•¡ (Write-through cache)

### 12.4 ì´ë¯¸ì§€ ìµœì í™”

- **í•™ìŠµ ì´ë¯¸ì§€**: 512x512ë¡œ ë¦¬ì‚¬ì´ì¦ˆ
- **ìƒì„± ì´ë¯¸ì§€**: WebP í˜•ì‹ ë³€í™˜ (ì„ íƒ)
- **ì¸ë„¤ì¼**: 256x256 ìë™ ìƒì„± (ëª¨ë¸ ëª©ë¡ìš©)

### 12.5 í™•ì¥ì„± ì „ëµ

#### Horizontal Scaling
- **Backend**: Stateless ì„¤ê³„ë¡œ ì¸ìŠ¤í„´ìŠ¤ ì¶”ê°€ ê°€ëŠ¥
- **AI Servers**: Worker ìˆ˜í‰ í™•ì¥ (RabbitMQ Queue ê¸°ë°˜)

#### Vertical Scaling
- **PostgreSQL**: RDS ì¸ìŠ¤í„´ìŠ¤ í¬ê¸° ì¦ê°€
- **GPU Server**: ë” ê°•ë ¥í•œ GPUë¡œ ì—…ê·¸ë ˆì´ë“œ

#### Auto Scaling (í–¥í›„)
- Backend: CPU ì‚¬ìš©ë¥  70% ì´ìƒ ì‹œ ì¸ìŠ¤í„´ìŠ¤ ì¶”ê°€
- Inference Server: í ê¸¸ì´ 100 ì´ìƒ ì‹œ Worker ì¶”ê°€

---

## 13. í…ŒìŠ¤íŠ¸ ì „ëµ

### 13.1 í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ
```
     /\
    /E2E\       10% - Playwright (Critical Path)
   /â”€â”€â”€â”€â”€â”€\
  /  í†µí•©  \     20% - API Integration Tests
 /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\
/   ë‹¨ìœ„     \   70% - Unit Tests (Service, Model)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### 13.2 Backend í…ŒìŠ¤íŠ¸

#### Unit Tests
- **Models**: í•„ë“œ ê²€ì¦, ë©”ì„œë“œ í…ŒìŠ¤íŠ¸
- **Services**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í…ŒìŠ¤íŠ¸ (TokenService, NotificationService)
- **Serializers**: ë°ì´í„° ê²€ì¦ í…ŒìŠ¤íŠ¸

#### Integration Tests
- **API Endpoints**: ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ì‘ë‹µ í…ŒìŠ¤íŠ¸
- **Database**: íŠ¸ëœì­ì…˜, ë™ì‹œì„± í…ŒìŠ¤íŠ¸

#### ë„êµ¬
- `pytest`, `pytest-django`
- Coverage ëª©í‘œ: 80%

### 13.3 Frontend í…ŒìŠ¤íŠ¸

#### Unit Tests
- **Composables**: ì¬ì‚¬ìš© ë¡œì§ í…ŒìŠ¤íŠ¸
- **Stores**: Pinia ìŠ¤í† ì–´ ì•¡ì…˜/ê²Œí„° í…ŒìŠ¤íŠ¸
- **Utils**: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸

#### Component Tests
- **UI Components**: Vitest + Testing Library

#### E2E Tests
- **Critical Path**: Playwright
  - ë¡œê·¸ì¸ â†’ ëª¨ë¸ ê²€ìƒ‰ â†’ ì´ë¯¸ì§€ ìƒì„± â†’ ë‹¤ìš´ë¡œë“œ
  - ëª¨ë¸ ë“±ë¡ â†’ í•™ìŠµ ì™„ë£Œ â†’ ì•Œë¦¼ í™•ì¸

#### ë„êµ¬
- `Vitest`, `@testing-library/vue`, `Playwright`
- Coverage ëª©í‘œ: 70%

### 13.4 AI ì„œë²„ í…ŒìŠ¤íŠ¸

#### Unit Tests
- **Preprocessing**: ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆ, í¬ë§· ë³€í™˜
- **Signature Insertion**: ìœ„ì¹˜, íˆ¬ëª…ë„, í¬ê¸° í…ŒìŠ¤íŠ¸

#### Integration Tests
- **RabbitMQ Consumer**: ë©”ì‹œì§€ ìˆ˜ì‹  ë° ì²˜ë¦¬
- **API Callback**: Backend Webhook í˜¸ì¶œ í…ŒìŠ¤íŠ¸

#### Manual Tests
- **Training**: ì‹¤ì œ 10ì¥ ì´ë¯¸ì§€ë¡œ í•™ìŠµ í›„ í’ˆì§ˆ í™•ì¸
- **Inference**: ë‹¤ì–‘í•œ í”„ë¡¬í”„íŠ¸ë¡œ ìƒì„± í…ŒìŠ¤íŠ¸

---

## 14. ë°°í¬ ë° CI/CD

### 14.1 ê°œë°œ í™˜ê²½

#### Docker Compose
```yaml
services:
  backend:
    build: ./apps/backend
    ports: ["8000:8000"]
  
  frontend:
    build: ./apps/frontend
    ports: ["3000:3000"]
  
  training-server:
    build: ./apps/training-server
    runtime: nvidia
  
  inference-server:
    build: ./apps/inference-server
    runtime: nvidia
  
  postgres:
    image: postgres:15
  
  rabbitmq:
    image: rabbitmq:3-management
```

### 14.2 í”„ë¡œë•ì…˜ í™˜ê²½

#### ì¸í”„ë¼ (ë‹¨ì¼ ì„œë²„ + ì™¸ë¶€ GPU ì„œë²„ ê¸°ì¤€)
- **Application Server**: EC2 (t3.medium ì´ìƒ)
  - **Backend (Django)**: Gunicornìœ¼ë¡œ ì‹¤í–‰ (í¬íŠ¸ 8000)
  - **Frontend (ì •ì  íŒŒì¼)**: Vite ë¹Œë“œ ê²°ê³¼ë¬¼ (dist/)
  - **PostgreSQL**: Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰ (ì´ë¯¸ì§€: postgres:15, í¬íŠ¸ 5432)
    - ë³¼ë¥¨ ë§ˆìš´íŠ¸: `/var/lib/postgresql/data` (ë°ì´í„° ì˜ì†ì„±)
    - ë„¤íŠ¸ì›Œí¬: Backendì™€ ë™ì¼ Docker ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬
  - **RabbitMQ**: Dockerë¡œ ì‹¤í–‰ (í¬íŠ¸ 5672)
  - **Nginx**: Reverse Proxy + Frontend ì •ì  íŒŒì¼ ì„œë¹™ + SSL ì¢…ë£Œ (í¬íŠ¸ 80, 443)
    - Let's Encrypt SSL ì¸ì¦ì„œ (Certbot ìë™ ê°±ì‹ )
    - ë„ë©”ì¸: ë³„ë„ êµ¬ë§¤ ì˜ˆì • (ì˜ˆ: stylelicense.com)
- **AI Servers**: RunPod RTX 4090 24GB GPU Pod (2ëŒ€)
  - **Training Server** (1ëŒ€): LoRA Fine-tuning ì „ìš©
  - **Inference Server** (1ëŒ€): ì´ë¯¸ì§€ ìƒì„± ì „ìš©
  - Backend ì„œë²„ì™€ëŠ” **Public IP + ë°©í™”ë²½ + INTERNAL_API_TOKEN**ìœ¼ë¡œ í†µì‹ 
    - Backend ë„ë©”ì¸ìœ¼ë¡œ Webhook í˜¸ì¶œ (ì˜ˆ: https://api.stylelicense.com)
    - ë°©í™”ë²½: Backend EC2 Security Groupì—ì„œ RunPod IP í—ˆìš© (í¬íŠ¸ 443)
- **Storage**: AWS S3 (ì´ë¯¸ì§€, ëª¨ë¸ íŒŒì¼)
  - Backend EC2: IAM Roleë¡œ S3 ì ‘ê·¼
  - RunPod GPU: Access Keyë¡œ S3 ì ‘ê·¼

### 14.3 ë°°í¬ í”„ë¡œì íŠ¸ (apps/deploy)

**apps/deploy**ëŠ” EC2 ë°°í¬ ì „ìš© ë…ë¦½ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì´ í´ë”ë§Œ EC2ì— clone/pullí•˜ë©´ ì „ì²´ ìŠ¤íƒì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### í´ë” êµ¬ì¡°
```
apps/deploy/
â”œâ”€â”€ backend/                    # Backend ì „ë¬¸ (Django ì½”ë“œ)
â”œâ”€â”€ frontend/dist/             # Frontend ë¹Œë“œ ê²°ê³¼ë¬¼
â”œâ”€â”€ docker-compose.yml         # ë¡œì»¬ ê°œë°œìš©
â”œâ”€â”€ nginx.conf                 # Nginx ì„¤ì •
â”œâ”€â”€ deploy.sh                  # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ scripts/
    â”œâ”€â”€ setup.sh              # ì´ˆê¸° ì„¤ì •
    â””â”€â”€ backup.sh             # DB ë°±ì—…
```

#### ë°°í¬ í”„ë¡œì„¸ìŠ¤

**ì´ˆê¸° ë°°í¬**:
```bash
# EC2ì—ì„œ
git clone <repository-url>
cd StyleLicense/apps/deploy
./scripts/setup.sh  # PostgreSQL(Docker), RabbitMQ(Docker), Nginx, Gunicorn ì„¤ì •
./deploy.sh         # ì´ˆê¸° ë°°í¬
```

**ì½”ë“œ ë³€ê²½ ì‹œ ë°°í¬**:
```bash
# ê°œë°œì ë¡œì»¬ì—ì„œ
# 1. Backend ë³€ê²½ ì‹œ: apps/backend/ ì½”ë“œ ìˆ˜ì • í›„ apps/deploy/backend/ë¡œ ë³µì‚¬
# 2. Frontend ë³€ê²½ ì‹œ: apps/frontend/ ì½”ë“œ ìˆ˜ì •, ë¹Œë“œ í›„ apps/deploy/frontend/dist/ë¡œ ë³µì‚¬
git add apps/deploy/
git commit -m "ë°°í¬: ë³€ê²½ì‚¬í•­"
git push origin main

# EC2ì—ì„œ
cd /path/to/StyleLicense/apps/deploy
git pull origin main
./deploy.sh  # ìë™ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜, Static ìˆ˜ì§‘, ì„œë¹„ìŠ¤ ì¬ì‹œì‘
```

#### deploy.sh ìŠ¤í¬ë¦½íŠ¸ ì—­í• 
```bash
1. PostgreSQL ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰ (python manage.py migrate)
2. Django Static íŒŒì¼ ìˆ˜ì§‘ (collectstatic)
3. Frontend ë¹Œë“œ íŒŒì¼ Nginx ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬
4. Gunicorn ì¬ì‹œì‘
5. RabbitMQ ìƒíƒœ í™•ì¸
6. Nginx ì¬ì‹œì‘
7. Health Check
```

### 14.4 CI/CD (í–¥í›„ ê³„íš)

**í˜„ì¬**: ìˆ˜ë™/ë°˜ìë™ ë°°í¬ (`deploy.sh` ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©)

**í–¥í›„ ë„ì… ì˜ˆì •**:
- GitHub Actions ë˜ëŠ” GitLab CI
- Backend: Lint â†’ Test â†’ Build â†’ Deploy to EC2
- Frontend: Lint â†’ Test â†’ Build â†’ Deploy to EC2
- AI Servers: Lint â†’ Test â†’ Build â†’ Deploy to RunPod
- Blue-Green Deployment (Backend)
- Rolling Update (AI Servers)

### 14.5 í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

#### Development
- `.env.example` í…œí”Œë¦¿ ì œê³µ
- ë¡œì»¬ `.env` íŒŒì¼ë¡œ ê´€ë¦¬

#### Production
- AWS Systems Manager Parameter Store
- ë¯¼ê° ì •ë³´ëŠ” ì•”í˜¸í™” ì €ì¥

---

## 15. ë¬¸ì„œí™” ìš”êµ¬ì‚¬í•­

### 15.1 ë¬¸ì„œ êµ¬ì¡°
```
project-root/
â”œâ”€â”€ README.md              # í”„ë¡œì íŠ¸ ì†Œê°œ (ì™¸ë¶€ìš©)
â”œâ”€â”€ TECHSPEC.md            # ì´ ë¬¸ì„œ (ì „ì²´ ì‹œìŠ¤í…œ ê°œìš”)
â”œâ”€â”€ PLAN.md                # ê°œë°œ ê³„íš ë° ì§„í–‰ ìƒí™©
â”œâ”€â”€ claude.md              # Claude ì‘ì—… ê°€ì´ë“œ
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ README.md                # DB ê°œìš”, ì „ì²´ ERD, ì„¤ê³„ ì›ì¹™
â”‚   â”‚   â”œâ”€â”€ guides/
â”‚   â”‚   â”‚   â”œâ”€â”€ queries.md     (ì‹¤ì „ ì¿¼ë¦¬ ëª¨ìŒ)
â”‚   â”‚   â”‚   â””â”€â”€ operations.md  (ë§ˆì´ê·¸ë ˆì´ì…˜ + ìš´ì˜)
â”‚   â”‚   â””â”€â”€ TABLES.md          (ëª¨ë“  í…Œì´ë¸” ì •ì˜ í•œ ê³³ì—)
â”‚   â”œâ”€â”€ API.md             # API ëª…ì„¸ ìƒì„¸
â”‚   â”œâ”€â”€ SECURITY.md        # ë³´ì•ˆ ì •ì±…
â”‚   â”œâ”€â”€ DEPLOYMENT.md      # ë°°í¬ ê°€ì´ë“œ
â”‚   â””â”€â”€ PATTERNS.md        # ì½”ë“œ íŒ¨í„´
â””â”€â”€ apps/
    â”œâ”€â”€ backend/           # ê°œë°œìš© Backend ì½”ë“œ
    â”‚   â”œâ”€â”€ README.md      # Backend ì•„í‚¤í…ì²˜
    â”‚   â”œâ”€â”€ PLAN.md        # Backend ì‘ì—… ê³„íš
    â”‚   â””â”€â”€ CODE_GUIDE.md  # Backend ì½”ë“œ ê°€ì´ë“œ
    â”œâ”€â”€ frontend/          # ê°œë°œìš© Frontend ì½”ë“œ
    â”‚   â”œâ”€â”€ README.md
    â”‚   â”œâ”€â”€ PLAN.md
    â”‚   â””â”€â”€ CODE_GUIDE.md
    â”œâ”€â”€ training-server/   # í•™ìŠµ ì„œë²„ ì½”ë“œ
    â”‚   â”œâ”€â”€ README.md
    â”‚   â”œâ”€â”€ PLAN.md
    â”‚   â””â”€â”€ CODE_GUIDE.md
    â”œâ”€â”€ inference-server/  # ì¶”ë¡  ì„œë²„ ì½”ë“œ
    â”‚   â”œâ”€â”€ README.md
    â”‚   â”œâ”€â”€ PLAN.md
    â”‚   â””â”€â”€ CODE_GUIDE.md
    â””â”€â”€ deploy/            # ğŸš€ EC2 ë°°í¬ ì „ìš© í”„ë¡œì íŠ¸
        â”œâ”€â”€ README.md      # ë°°í¬ ê°€ì´ë“œ (ì´ˆê¸° ì„¤ì •, deploy.sh ì„¤ëª…)
        â”œâ”€â”€ backend/       # Backend ì½”ë“œ ì „ë¬¸ (apps/backend/ ë³µì‚¬ë³¸)
        â”œâ”€â”€ frontend/      # Frontend ë¹Œë“œ ê²°ê³¼ë¬¼ (dist/)
        â”œâ”€â”€ docker-compose.yml
        â”œâ”€â”€ nginx.conf
        â”œâ”€â”€ deploy.sh      # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
        â””â”€â”€ scripts/
            â”œâ”€â”€ setup.sh   # ì´ˆê¸° ì„¤ì • (PostgreSQL(Docker), RabbitMQ(Docker), Nginx)
            â””â”€â”€ backup.sh  # DB ë°±ì—…
```

### 15.2 ë¬¸ì„œ ì‘ì„± ê·œì¹™

- **Markdown í˜•ì‹** ì‚¬ìš©
- **ëª©ì°¨** í•„ìˆ˜ í¬í•¨
- **ìƒí˜¸ ì°¸ì¡°** ëª…í™•íˆ (ìƒëŒ€ ê²½ë¡œ ë§í¬)
- **ë‹¤ì´ì–´ê·¸ë¨** Mermaid ë˜ëŠ” ASCII Art
- **ì½”ë“œ ì˜ˆì‹œ** ì–¸ì–´ ëª…ì‹œ (```python, ```javascript)

### 15.3 ë¬¸ì„œ ì—…ë°ì´íŠ¸ ì£¼ê¸°

- **TECHSPEC.md**: ì•„í‚¤í…ì²˜ ë³€ê²½ ì‹œ
- **PLAN.md**: ë§¤ì£¼ ê¸ˆìš”ì¼ (ì§„í–‰ ìƒí™© ë°˜ì˜)
- **API.md**: API ì¶”ê°€/ë³€ê²½ ì‹œ ì¦‰ì‹œ
- **README.md**: ì‹ ê·œ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ

---

## 16. ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš

### 16.1 ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

#### Django Migrations
- **ì´ˆê¸° ë§ˆì´ê·¸ë ˆì´ì…˜**: `python manage.py makemigrations` â†’ `0001_initial.py`
- **ìŠ¤í‚¤ë§ˆ ë³€ê²½**: ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„± â†’ í”„ë¡œë•ì…˜ ì ìš© ì „ ë°±ì—…
- **ë¡¤ë°± ê³„íš**: `python manage.py migrate app_name previous_migration`

#### ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ
1. ê°œë°œ í™˜ê²½ì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸
2. ìŠ¤í…Œì´ì§• í™˜ê²½ ì ìš©
3. í”„ë¡œë•ì…˜ DB ë°±ì—…
4. í”„ë¡œë•ì…˜ ì ìš© (ì ê²€ ì‹œê°„ëŒ€)
5. ë¡¤ë°± ì¤€ë¹„ (ì´ì „ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ë³´ê´€)

### 16.2 ì½”ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜ (MVP ì´í›„)

#### Python ë²„ì „ ì—…ê·¸ë ˆì´ë“œ
- 3.11 â†’ 3.12: í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸ í›„ ì ì§„ì  ì ìš©

#### Django ë²„ì „ ì—…ê·¸ë ˆì´ë“œ
- 5.x â†’ 6.x: Deprecation ê²½ê³  í•´ê²° í›„ ì—…ê·¸ë ˆì´ë“œ

#### Node.js ë²„ì „ ì—…ê·¸ë ˆì´ë“œ
- 20 LTS â†’ ë‹¤ìŒ LTS: íŒ¨í‚¤ì§€ í˜¸í™˜ì„± í™•ì¸

---

## 17. ìœ„í—˜ ìš”ì†Œ ë° ì™„í™” ì „ëµ

### 17.1 ê¸°ìˆ ì  ìœ„í—˜

| ìœ„í—˜ | ë°œìƒ í™•ë¥  | ì˜í–¥ë„ | ì™„í™” ì „ëµ |
|------|-----------|--------|-----------|
| GPU ì„œë²„ ë¹„ìš© ì´ˆê³¼ | ì¤‘ê°„ | ë†’ìŒ | ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§, ë°°ì¹˜ ì²˜ë¦¬ ìµœì í™”, ìë™ ìŠ¤ì¼€ì¼ë§ |
| ëª¨ë¸ í•™ìŠµ ì‹¤íŒ¨ìœ¨ ì¦ê°€ | ë‚®ìŒ | ì¤‘ê°„ | ì¬ì‹œë„ ë¡œì§, ì—ëŸ¬ ë¡œê¹…, ì‚¬ì „ ì´ë¯¸ì§€ ê²€ì¦ |
| ë™ì‹œ ì ‘ì† ì¦ê°€ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜ | ì¤‘ê°„ | ë†’ìŒ | ë¶€í•˜ í…ŒìŠ¤íŠ¸, ìºì‹±, Auto Scaling ì¤€ë¹„ |
| S3 ë¹„ìš© ì¦ê°€ | ì¤‘ê°„ | ì¤‘ê°„ | ì´ë¯¸ì§€ ì••ì¶•, ì˜¤ë˜ëœ ì´ë¯¸ì§€ ìë™ ì‚­ì œ ì •ì±… |
| RabbitMQ í ì ì²´ | ë‚®ìŒ | ë†’ìŒ | í ê¸¸ì´ ëª¨ë‹ˆí„°ë§, Worker ìˆ˜í‰ í™•ì¥ |

### 17.2 ë¹„ì¦ˆë‹ˆìŠ¤ ìœ„í—˜

| ìœ„í—˜ | ë°œìƒ í™•ë¥  | ì˜í–¥ë„ | ì™„í™” ì „ëµ |
|------|-----------|--------|-----------|
| ì €ì‘ê¶Œ ë¶„ìŸ | ë‚®ìŒ | ë†’ìŒ | ì„œëª… ê°•ì œ ì‚½ì…, ì‘ê°€ ì‹ ì› í™•ì¸ ê°•í™” |
| ì•…ì˜ì  ì‚¬ìš©ì (ìŠ¤íŒ¸, ì–´ë·°ì§•) | ì¤‘ê°„ | ì¤‘ê°„ | Rate Limiting, ì‹ ê³  ì‹œìŠ¤í…œ êµ¬í˜„ |
| ì‘ê°€ ì´íƒˆ (ìˆ˜ìµ ë¶ˆë§Œ) | ì¤‘ê°„ | ë†’ìŒ | ì •ì‚° ì‹œìŠ¤í…œ íˆ¬ëª…í™”, ì‘ê°€ ëŒ€ì‹œë³´ë“œ ì œê³µ |
| ë²•ì  ê·œì œ ë³€í™” | ë‚®ìŒ | ë†’ìŒ | ë²•ë¥  ìë¬¸, ToS ì—…ë°ì´íŠ¸ |

### 17.3 ìš´ì˜ ìœ„í—˜

| ìœ„í—˜ | ë°œìƒ í™•ë¥  | ì˜í–¥ë„ | ì™„í™” ì „ëµ |
|------|-----------|--------|-----------|
| ë°ì´í„°ë² ì´ìŠ¤ ì¥ì•  | ì¤‘ê°„ | ì¹˜ëª…ì  | ì •ê¸°ì ì¸ `pg_dump` ì‹¤í–‰ ë° ë°±ì—… íŒŒì¼ S3 ì—…ë¡œë“œ |
| GPU ì„œë²„ ë‹¤ìš´ | ì¤‘ê°„ | ë†’ìŒ | Health Check, ìë™ ì¬ì‹œì‘, ì˜ˆë¹„ ì„œë²„ |
| ë³´ì•ˆ ì¹¨í•´ | ë‚®ìŒ | ì¹˜ëª…ì  | ì •ê¸° ë³´ì•ˆ ê°ì‚¬, HTTPS ê°•ì œ, Rate Limiting |

---

## 18. ì°¸ê³  ìë£Œ

### 18.1 ê¸°ìˆ  ë¬¸ì„œ
- [Django Documentation](https://docs.djangoproject.com/)
- [Vue 3 Documentation](https://vuejs.org/)
- [Stable Diffusion Documentation](https://github.com/CompVis/stable-diffusion)
- [LoRA Fine-tuning Guide](https://huggingface.co/docs/diffusers/training/lora)
- [RabbitMQ Documentation](https://www.rabbitmq.com/documentation.html)

### 18.2 í”„ë¡œì íŠ¸ ê´€ë ¨ ë§í¬
- **Repository**: [GitHub](https://github.com/your-org/style-license) (ì‘ì„± ì˜ˆì •)
- **Figma Design**: [Figma Link](https://figma.com/...) (ì‘ì„± ì˜ˆì •)
- **API Docs (Swagger)**: [Swagger UI](https://api.stylelicense.com/docs/) (ë°°í¬ í›„)

### 18.3 ê´€ë ¨ ë…¼ë¬¸ ë° ì•„í‹°í´
- LoRA: Low-Rank Adaptation of Large Language Models (arXiv:2106.09685)
- Stable Diffusion: High-Resolution Image Synthesis with Latent Diffusion Models

---

**ë¬¸ì„œ ì‘ì„±ì¼**: 2025-10-27  
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-10-27  
**ì‘ì„±ì**: [Your Name]  
**ê²€í† ì**: [Reviewer Name]